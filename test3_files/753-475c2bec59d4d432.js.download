try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="7bceb086-eec1-49ad-9d07-91279513c5c1",e._sentryDebugIdIdentifier="sentry-dbid-7bceb086-eec1-49ad-9d07-91279513c5c1")}catch(e){}"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[753],{3111:(e,t,n)=>{n.d(t,{d:()=>a});let a=e=>{let{pathname:t,searchParams:n,queryString:a,isClaudeApp:i}=e,r="".concat(t,"?").concat(a),u=n.get("origin");if(u)r=u;else if(i){let e=/^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$/i,n=t.startsWith("/project/")&&e.test(t.slice(9)),i=t.startsWith("/chat/")&&e.test(t.slice(6)),u=n||i||"/new"===t?t:"/new";r="claude://claude.ai".concat(u,"?").concat(a)}return r}},12142:(e,t,n)=>{n.d(t,{Q:()=>s});var a=n(74813),i=n(64328),r=n(28044),u=n(27541),o=n(3111);let s=function(){let{pathname:e,queryString:t=""}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{activeOrganization:n}=(0,i.YL)(),s=(0,u.usePathname)(),c=(0,u.useSearchParams)(),l=(0,r.V)(),{track:d}=(0,a.st)(),g="".concat((0,o.d)({pathname:e||s,searchParams:c,queryString:t,isClaudeApp:l}));return e=>{let{uuid:t,url:a}=e;d({event_key:"claudeai.mcp.auth.init",uuid:t,url:a}),window.location.href="/api/organizations/".concat(null==n?void 0:n.uuid,"/mcp/start-auth/").concat(t,"?redirect_url=").concat(encodeURIComponent(g),"&open_in_browser=1")}}},22167:(e,t,n)=>{n.d(t,{Cg:()=>K,Dd:()=>P,FZ:()=>E,LN:()=>L,TI:()=>C,X0:()=>R,XE:()=>z,Ys:()=>q,dJ:()=>Q,eL:()=>k,fe:()=>V,kO:()=>Y,ob:()=>G,ph:()=>T,tS:()=>b,vm:()=>j,xc:()=>w,z3:()=>A});var a=n(94295),i=n(1613),r=n(64328),u=n(45054),o=n(16178),s=n(80688),c=n(68067),l=n(2e3),d=n(28044),g=n(66365),y=n(4869),p=n(27541),v=n(7620),f=n(10369),_=n(3111),m=n(12142),h=n(35580),S=n(40459);let b=e=>e.type===l.v8.GITHUB?{sync_source_type:l.v8.GITHUB,sync_source_config:e.config}:e.type===l.v8.GDRIVE?{sync_source_type:l.v8.GDRIVE,sync_source_config:e.config}:null,L=()=>{let{activeOrganization:e}=(0,r.YL)(),t=null==e?void 0:e.uuid;return(0,i.Sk)("/api/organizations/".concat(t,"/sync/settings"),{queryKey:[s._V,{orgUuid:t}],enabled:!!e})},w=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{activeOrganization:t}=(0,r.YL)(),n=null==t?void 0:t.uuid,a=(0,y.useQueryClient)();return(0,i.Qv)("/api/organizations/".concat(n,"/sync/settings"),"PUT",(e,t)=>{let{type:n,enabled:a}=e;t||(t=[]);let i=t.map(e=>e.type===n?{...e,enabled:a}:e);return i.some(e=>e.type===n)?i:[...t,{type:n,enabled:a}]},{queryKey:[s._V,{orgUuid:n}],enabled:!!t,onSuccess:async function(){for(var t,i=arguments.length,r=Array(i),u=0;u<i;u++)r[u]=arguments[u];await a.invalidateQueries({queryKey:[s._V,{orgUuid:n}]}),await (null==(t=e.onSuccess)?void 0:t.call(e,...r))},meta:{errorMessage:"There was an error changing your settings. Please try again."},...e})},T=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{activeOrganization:t}=(0,r.YL)(),n=null==t?void 0:t.uuid,a=(0,y.useQueryClient)(),{value:u}=(0,c.fS)("kingfisher_enabled"),{value:o}=(0,c.fS)("apps_use_bananagrams"),l=(0,g.useLayer)("trials_freemium").get("free_integrations",!1);return(0,i.Qv)("/api/organizations/".concat(n,"/sync/settings/config"),"POST",(e,t)=>{let{type:n,config:a}=e;return t||(t=[]),t.map(e=>e.type===n?{...e,config:{...e.config,...a}}:e)},{queryKey:[s._V,{orgUuid:n}],enabled:!!(t&&(u||l)&&o),onSuccess:async function(){for(var t,i=arguments.length,r=Array(i),u=0;u<i;u++)r[u]=arguments[u];await a.invalidateQueries({queryKey:[s._V,{orgUuid:n}]}),await (null==(t=e.onSuccess)?void 0:t.call(e,...r))},meta:{errorMessage:"There was an error changing your settings. Please try again."},...e})},E=e=>{let{callerIdentifier:t,successParam:n,handleOpen:a}=e,i=(0,p.useSearchParams)(),r=(0,v.useRef)(!1);(0,v.useEffect)(()=>{!i.has(n)||r.current||t&&t!==i.get(n)||(r.current=!0,((e,t)=>{let n=new URLSearchParams(Array.from(t.entries()));n.delete(e);let a=n.toString()?"?".concat(n.toString()):"",i=window.location.pathname+a;window.history.replaceState({...window.history.state,as:i,url:i},"",i)})(n,i),a())},[i,t,a,n])},A=e=>{let t;return t=e.status.state,[l.I5.CREATED,l.I5.PENDING,l.I5.UPDATING].includes(t)},P=e=>[l.I5.FAILED,l.I5.UPDATE_FAILED].includes(e.status.state),k=()=>{let{addError:e}=(0,u.Y)(),t=(0,y.useQueryClient)();return(n,a)=>{(e=>{if(e instanceof o.LG)return e instanceof o.LG&&"access_denied"===e.errorCode})(n)&&(e("Please try again. You may need to reconnect with your ".concat(l.sb[a.sync_source_type]," account."),{error:n}),s.ku.forEach(e=>{t.invalidateQueries({queryKey:[e]})}),t.invalidateQueries({queryKey:[s.GC]}))}},I={[l.v8.GCAL]:"enabled_foccacia",[l.v8.GMAIL]:"enabled_sourdough"},z=e=>{let t="cinnabon_enabled";switch(e){case l.v8.GCAL:case l.v8.GMAIL:t="pumpernickel_enabled";break;case l.v8.GDRIVE:t="kingfisher_enabled";break;default:t="cinnabon_enabled"}let{value:n}=(0,c.fS)(t),a=(0,g.useLayer)("trials_freemium").get("free_integrations",!1),i=n||(e===l.v8.GCAL||e===l.v8.GMAIL||e===l.v8.GDRIVE)&&a;return!S.env.NEXT_PUBLIC_DISABLE_INTEGRATIONS&&i},C={"https://mcp-server-gcal-586545259222.us-central1.run.app/sse":l.v8.GCAL,"https://mcp-server-gmail-110131437935.us-central1.run.app/sse":l.v8.GMAIL,"https://api.anthropic.com/mcp/gdrive/sse":l.v8.GDRIVE},Q=e=>!!(0,h.Uz)({type:"remote"}).find(t=>t.url&&C[t.url]===e),j=()=>{let{value:e}=(0,c.fS)("enabled_brioche");return e},Y=()=>{let{value:e}=(0,c.fS)("mcp_gdrive");return e},q=e=>{let t=j(),n=Y(),a=(e=>{let t=(0,r.mV)(),{data:n}=L(),a=!!(Array.isArray(n)&&n.find(t=>t.type===e&&t.enabled));return!t||a})(e),i=z(e),u=Q(e),o=e===l.v8.GDRIVE?n:t;return!!(i&&(a||o&&u))},D=e=>"sfdc"===e?"salesforce":"gdrive"===e?"mcp/drive":e,K=e=>{let t=(0,h.Uz)().find(t=>"remote"===t.type&&t.url&&C[t.url]===e);return t?{isFetched:!0,isAuthenticated:!!t.isConnected,server_uuid:t.uuid}:{isFetched:!1,isAuthenticated:!1,server_uuid:void 0}},G=function(e){let{callerIdentifier:t,handleAuthSuccess:n,pathname:a,queryString:o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=Y(),c=j(),g=e===l.v8.GDRIVE?s:c,S=((e,t)=>{let{pathname:n,queryString:a}=t,i=(0,h.Uz)().find(t=>"remote"===t.type&&t.url&&C[t.url]===e),r=q(e),u=K(e),o=(0,m.Q)({pathname:n,queryString:a});return{isAuthenticated:!!r&&!!i&&u.isAuthenticated,startAuth:()=>{r&&i&&o({uuid:i.uuid,url:i.url})},disconnect:()=>{},isFetched:!!i&&u.isFetched}})(e,{pathname:a,queryString:o}),{activeOrganization:b}=(0,r.YL)(),L=null==b?void 0:b.uuid,w=(0,p.usePathname)(),T=(0,p.useSearchParams)(),{addSuccess:A}=(0,u.Y)(),P=(0,f.A)(),k=q(e),I=(0,y.useQueryClient)(),z=(0,d.V)(),{data:Q,isFetched:G}=(0,i.Sk)("/api/organizations/".concat(L,"/sync/").concat(D(e),"/auth"),{queryKey:["sync_".concat(e,"_auth_status"),{orgUuid:L}],enabled:!!(b&&k)}),R=(0,v.useRef)(!1),{mutate:V}=(0,i.L2)("/api/organizations/".concat(L,"/sync/").concat(D(e),"/auth/start"),"POST",{enabled:!!(b&&k)&&!g,onSuccess:e=>{window.location.href=e.redirect_url}});E({callerIdentifier:t,successParam:"".concat(e,"_success"),handleOpen:()=>{A(P.formatMessage({defaultMessage:"Successfully connected to {integrationName}",id:"T7cL93l/KQ"},{integrationName:l.sb[e]})),null==n||n(!0)}});let{mutate:U}=(0,i.L2)("/api/organizations/".concat(L,"/sync/").concat(D(e),"/auth"),"DELETE",{enabled:!!(b&&k)&&!g,onSuccess:()=>{I.invalidateQueries({queryKey:["sync_".concat(e,"_auth_status"),{orgUuid:L}]})}});return g&&S.isFetched?{...S,authBreakdown:{mcp:k&&S.isAuthenticated,firstParty:k&&!!(null==Q?void 0:Q.is_authenticated)}}:{isAuthenticated:k&&!!(null==Q?void 0:Q.is_authenticated),startAuth:()=>{if(!R.current&&k){let n="".concat(e,"_success=").concat(t).concat(o?"&".concat(o):""),i=(0,_.d)({pathname:a||w,searchParams:T,queryString:n,isClaudeApp:z});if(z){window.location.href="/settings/connectors?open_in_browser=1&auth_start=".concat(e,"&origin=").concat(i);return}R.current=!0,V({pre_auth_state:{origin:i},redirect_uri:new URL("/connect/".concat(D(e),"/callback"),window.location.origin).toString()})}},disconnect:U,isFetched:G,authBreakdown:{mcp:k&&S.isAuthenticated,firstParty:k&&!!(null==Q?void 0:Q.is_authenticated)}}},R=(e,t)=>{var n,a;let i=j(),u=Y(),o=e===l.v8.GDRIVE?u:i,s=q(e),{account:c}=(0,r.YL)(),d=I[e];return!d||o?s:s&&(t?!!(null==t||null==(n=t.conversationSettings)?void 0:n[d]):!!(null==c||null==(a=c.settings)?void 0:a[d]))},V=()=>{let{account:e}=(0,r.YL)(),{mutate:t}=(0,a.Jy)();return{toggleIntegrationEnabled:(n,a)=>{if(!e)return;let i=I[n];i&&t({...e.settings,[i]:a})}}}},22624:(e,t,n)=>{n.d(t,{K:()=>o,p:()=>s});var a=n(64328),i=n(60687),r=n(95617),u=n(66365);let o=()=>{let e=(0,a.O9)(),t=(0,a.zc)(),n=(0,a.mV)(),{selectedTier:o,shouldOverrideFeatureAccess:s,isTierSelectorEnabled:c}=(0,i.t)(),l=(0,u.useDynamicConfig)("claude_ai_projects_limits").get("max_free_projects",0)>0,d=c&&s&&o?o===r.d7.PRO||o===r.d7.MAX||o===r.d7.ENTERPRISE:e||t||n,g=(0,u.useLayer)("trials_freemium").get("free_project",!1);return l||d||g},s=()=>{let e=(0,a.O9)(),t=(0,a.zc)(),n=(0,a.mV)(),{selectedTier:o,shouldOverrideFeatureAccess:s,isTierSelectorEnabled:c}=(0,i.t)(),l=(0,u.useDynamicConfig)("claude_ai_projects_limits"),d=(0,u.useLayer)("trials_freemium");if(c&&s&&o?o===r.d7.PRO||o===r.d7.MAX||o===r.d7.ENTERPRISE:e||t||n)return;let g=l.get("max_free_projects",0);return g>0?g:+!!d.get("free_project",!1)}},34003:(e,t,n)=>{n.d(t,{Gh:()=>d,Vx:()=>f,Yl:()=>v,t5:()=>g,u9:()=>p});var a=n(94295),i=n(1613),r=n(64328),u=n(45054),o=n(80688),s=n(68067),c=n(7620),l=n(10369);function d(){let{value:e}=(0,s.fS)("trials_and_tribulations_of_high_school_football");return e}function g(){var e,t;let n=(0,r.mV)(),a=(0,r.zm)(),{activeOrganization:u}=(0,r.YL)(),{data:s}=(0,i.Sk)("/api/organizations/".concat(null==u?void 0:u.uuid,"/feature_settings"),{queryKey:[o.RR,null==u?void 0:u.uuid],enabled:!!(null==u?void 0:u.uuid)&&n});if(a)return!!s&&!(null==(t=s.disabled_features)?void 0:t.includes("wiggle"));let c=!!s&&!(null==(e=s.disabled_features)?void 0:e.includes("wiggle"));return!n||c}function y(){var e;let{account:t}=(0,r.YL)(),{value:n}=(0,s.fS)("default_wiggle_on");if(null==t?void 0:t.settings)return null!=(e=t.settings.enabled_monkeys_in_a_barrel)?e:n}function p(){let e=d(),t=g(),n=y();return!!e&&!!t&&n}function v(){let e=d(),t=g();return e&&t}let f=()=>{let e=(0,l.A)(),{account:t}=(0,r.YL)(),{addSuccess:n}=(0,u.Y)(),i=y(),o=g(),{mutate:s}=(0,a.Jy)(),d=(0,c.useRef)(null==t?void 0:t.settings);return(0,c.useEffect)(()=>{d.current=null==t?void 0:t.settings},[null==t?void 0:t.settings]),{isEnabled:i,toggleWiggle:(0,c.useCallback)(a=>{if(t&&o){if(a){var i,r;let t=null==(i=d.current)?void 0:i.enabled_artifacts_attachments,a=[];t&&a.push("Analysis Tool"),a.length>0&&n(e.formatMessage({defaultMessage:"Automatically disabled: {features}",id:"7StJBCedWA"},{features:a.join(", ")})),(null==(r=d.current)?void 0:r.preview_feature_uses_artifacts)||n(e.formatMessage({defaultMessage:"Automatically enabled: Artifacts",id:"v5zt5SRUyk"}))}s({...d.current,enabled_monkeys_in_a_barrel:a,...a&&{enabled_artifacts_attachments:!1,preview_feature_uses_artifacts:!0}})}},[t,o,s,n,e])}}},45538:(e,t,n)=>{n.d(t,{BN:()=>P,CB:()=>_,GQ:()=>I,Gz:()=>k,Kf:()=>h,LQ:()=>A,PL:()=>f,bL:()=>w,bs:()=>S,dx:()=>y,eW:()=>E,fo:()=>b,gM:()=>p,gr:()=>v,kj:()=>j,mu:()=>C,my:()=>Q,sC:()=>g,sS:()=>T,u7:()=>m,xQ:()=>z});var a=n(19736),i=n(1613),r=n(64328),u=n(16178),o=n(80688),s=n(68067),c=n(4869),l=n(7620),d=n(22624);let g=30,y=1e4;var p=function(e){return e.Student="student",e.Meeting="meeting",e.Haystack="haystack",e}({}),v=function(e){return e.Study="study",e.Career="career",e.Research="research",e.Zoom="zoom",e.Teams="teams",e.GoogleMeet="google_meet",e}({});let f=()=>{let{activeOrganization:e}=(0,r.YL)(),t=null==e?void 0:e.uuid;return(0,i.Sk)("/api/organizations/".concat(t,"/projects/count"),{queryKey:[o.Wy,{orgUuid:t}],staleTime:3e5,enabled:!!t,meta:{noToast:e=>e instanceof u.LG&&"permission_error"===e.type}})},_=e=>{let{enabled:t=!0,limit:n,offset:a,starred:u,creatorFilter:s,projectFilter:c,orderBy:l}=e,{activeOrganization:g}=(0,r.YL)(),y=(0,d.K)(),p=null==g?void 0:g.uuid,v=new URLSearchParams;return v.append("include_harmony_projects","true"),void 0!==n&&v.append("limit",n.toString()),void 0!==a&&v.append("offset",a.toString()),void 0!==u&&v.append("starred",u.toString()),void 0!==s&&v.append("creator_filter",s.toString()),void 0!==c&&v.append("filter",c.toString()),void 0!==l&&v.append("order_by",l.toString()),(0,i.Sk)("/api/organizations/".concat(p,"/projects?").concat(v.toString()),{queryKey:[o.BP,{orgUuid:p},{limit:n,offset:a,starred:u,creatorFilter:s,projectFilter:c,orderBy:l}],enabled:!!(t&&g&&y),select:e=>{let t=e.length===n;return Object.assign(e.filter(e=>!e.archived_at),{hasMore:t})}})},m=e=>{let{enabled:t=!0,limit:n=g,offset:a=0,starred:u,creatorFilter:s,projectFilter:c,orderBy:l,searchQuery:y}=e,{activeOrganization:p}=(0,r.YL)(),v=(0,d.K)(),f=null==p?void 0:p.uuid,_=new URLSearchParams;return _.append("limit",n.toString()),_.append("offset",a.toString()),void 0!==u&&_.append("starred",u.toString()),void 0!==s&&_.append("creator_filter",s.toString()),void 0!==c&&_.append("filter",c.toString()),void 0!==l&&_.append("order_by",l.toString()),void 0!==y&&_.append("searchQuery",y.toString()),(0,i.Sk)("/api/organizations/".concat(f,"/projects_v2?").concat(_.toString()),{queryKey:[o.Wf,{orgUuid:f},{limit:n,offset:a,starred:u,creatorFilter:s,projectFilter:c,orderBy:l,searchQuery:y}],enabled:!!(t&&p&&v)})},h=()=>{let{activeOrganization:e}=(0,r.YL)(),t=(0,i.mn)();return(0,l.useCallback)(async()=>(await t("/api/organizations/".concat(null==e?void 0:e.uuid,"/projects"))).json(),[null==e?void 0:e.uuid,t])},S=()=>{let e=h(),t=(0,a.uE)();return(0,l.useCallback)(async()=>{let[n,i]=await Promise.all([e(),t({limit:a.dy})]);return((e,t)=>{let n=e.map(e=>({...e,lastConversation:null==t?void 0:t.find(t=>t.project_uuid===e.uuid)})).filter(e=>e.lastConversation).sort((e,t)=>new Date(t.lastConversation.created_at).getTime()-new Date(e.lastConversation.created_at).getTime()),a=null==e?void 0:e.filter(e=>!n.find(t=>t.uuid===e.uuid));return[...n,...a]})(n,i)},[t,e])},b=e=>{let{activeOrganization:t}=(0,r.YL)(),n=null==t?void 0:t.uuid;return(0,i.Sk)("/api/organizations/".concat(n,"/projects/").concat(e),{queryKey:[o.hc,{orgUuid:n,projectUuid:e}],enabled:!!(t&&e),staleTime:0,meta:{noToast:e=>e instanceof u.LG&&(404===e.statusCode||403===e.statusCode)}})},L=()=>{let{activeOrganization:e}=(0,r.YL)(),t=null==e?void 0:e.uuid,n=(0,c.useQueryClient)();return{addProject:e=>{n.setQueriesData({queryKey:[o.Wf,{orgUuid:t}]},t=>t?{...t,data:[e,...t.data],pagination:{...t.pagination,total:t.pagination.total+1}}:t),n.setQueriesData({queryKey:[o.BP,{orgUuid:t}]},t=>t?[e,...t]:t),n.setQueriesData({queryKey:[o.Wy,{orgUuid:t}]},e=>e?{count:e.count+1}:e)},removeProject:e=>{n.setQueriesData({queryKey:[o.Wf,{orgUuid:t}]},t=>t?{...t,data:t.data.filter(t=>t.uuid!==e),pagination:{...t.pagination,total:Math.max(0,t.pagination.total-1)}}:t),n.setQueriesData({queryKey:[o.BP,{orgUuid:t}]},t=>t?t.filter(t=>t.uuid!==e):t),n.setQueriesData({queryKey:[o.Wy,{orgUuid:t}]},e=>e?{count:Math.max(0,e.count-1)}:e)}}},w=()=>{let{activeOrganization:e}=(0,r.YL)(),t=null==e?void 0:e.uuid,n=k(),{addProject:a}=L();return(0,i.L2)(()=>"/api/organizations/".concat(t,"/projects"),"POST",{onSuccess:e=>{a(e),n()}})},T=e=>{let{activeOrganization:t}=(0,r.YL)(),n=null==t?void 0:t.uuid,a=k();return(0,i.Qv)(()=>"/api/organizations/".concat(n,"/projects/").concat(e),"PUT",(e,t)=>t?{...t,...e}:void 0,{onSuccess:()=>{a(e)},queryKey:[o.hc,{orgUuid:n,projectUuid:e}]})},E=e=>{let{activeOrganization:t}=(0,r.YL)(),n=null==t?void 0:t.uuid,a=k(),{removeProject:u}=L();return(0,i.L2)(()=>"/api/organizations/".concat(n,"/projects/").concat(e),"DELETE",{onSuccess:()=>{u(e),a(e,{remove:!0})}})},A=function(e){let{limit:t=30,offset:n=0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{activeOrganization:a}=(0,r.YL)(),s=null==a?void 0:a.uuid,c=new URLSearchParams;return c.append("limit",t.toString()),c.append("offset",n.toString()),(0,i.Sk)("/api/organizations/".concat(s,"/projects/").concat(e,"/conversations_v2?").concat(c.toString()),{queryKey:[o.yF,{orgUuid:s,projectUuid:e,limit:t,offset:n}],enabled:!!a,staleTime:0,meta:{noToast:e=>e instanceof u.LG&&403===e.statusCode}})},P=()=>{var e,t;let n=_({enabled:!0,creatorFilter:"is_creator",limit:y}),a=null==(t=n.data)||null==(e=t.find(e=>e.is_starter_project))?void 0:e.uuid;return{...n,data:a}},k=()=>{let{activeOrganization:e}=(0,r.YL)(),t=null==e?void 0:e.uuid,n=(0,c.useQueryClient)();return(e,a)=>{let{remove:i=!1}=a||{};if([[o.BP,{orgUuid:t}],[o.Wf,{orgUuid:t}],[o.Wy,{orgUuid:t}]].forEach(e=>void n.invalidateQueries({queryKey:e})),e){let a=i?"removeQueries":"invalidateQueries";[[o.hc,{orgUuid:t,projectUuid:e}],[o.yF,{orgUuid:t,projectUuid:e}],[o.vE,{projectUuid:e}]].forEach(e=>void n[a]({queryKey:e}))}}},I=(e,t)=>{let n=k();return(0,i.L2)("/api/organizations/".concat(e,"/projects/").concat(t,"/report"),"POST",{enabled:!!t&&!!e,onSuccess:()=>{n(t)}})},z=e=>{let{activeOrganization:t}=(0,r.YL)(),n=null==t?void 0:t.uuid,{value:a}=(0,s.fS)("claude_ai_sticky_project_settings");return(0,i.Sk)("/api/organizations/".concat(n,"/projects/").concat(e,"/settings"),{queryKey:[o.vX,{orgUuid:n,projectUuid:e}],enabled:!!(t&&e&&a)})},C=e=>{let{activeOrganization:t}=(0,r.YL)(),n=null==t?void 0:t.uuid,{value:a}=(0,s.fS)("claude_ai_sticky_project_settings");return(0,i.Qv)(()=>"/api/organizations/".concat(n,"/projects/").concat(e,"/settings"),"PUT",(e,t)=>t?{...t,...e}:void 0,{queryKey:[o.vX,{orgUuid:n,projectUuid:e}],enabled:!!(t&&e&&a)})},Q=()=>{let{activeOrganization:e}=(0,r.YL)(),t=null==e?void 0:e.uuid,n=(0,c.useQueryClient)();return(0,i.L2)(e=>"/api/organizations/".concat(t,"/projects/").concat(e.projectUuid,"/sync"),"POST",{meta:{noToast:!0},onSuccess:(e,a)=>{"done"===e.kb_resync_status&&a.projectUuid&&n.invalidateQueries({queryKey:[o.qz,{orgUuid:t,projectUuid:a.projectUuid}]})}})},j=()=>{let{value:e}=(0,s.fS)("claudeai_sync_project");return e}},94028:(e,t,n)=>{n.d(t,{Bg:()=>c,fR:()=>g,iV:()=>d,ih:()=>l,nI:()=>y});var a=n(1613),i=n(64328),r=n(45054),u=n(80688),o=n(2e3),s=n(4869);let c=()=>{let{account:e,activeOrganization:t}=(0,i.YL)(),n=null==e?void 0:e.uuid,r=null==t?void 0:t.uuid,c=(0,s.useQueryClient)();return(0,a.L2)("/api/organizations/".concat(r,"/sync/mcp/drive/ingest"),"POST",{onSuccess:()=>{setTimeout(()=>{c.invalidateQueries({queryKey:[u.hx,{orgUuid:r,accountUuid:n,syncSourceType:o.v8.GDRIVE}]})},300)}})},l=()=>{let{activeOrganization:e}=(0,i.YL)(),t=null==e?void 0:e.uuid,{addError:n}=(0,r.Y)(),c=(0,s.useQueryClient)();return(0,a.L2)("/api/organizations/".concat(t,"/sync/ingestion/gdrive/clean_up"),"POST",{onSuccess:()=>{c.invalidateQueries({queryKey:[u.hx,{orgUuid:t,syncSourceType:o.v8.GDRIVE}]})},onError:e=>{n(e.message,{error:e})}})},d=e=>{let{activeOrganization:t}=(0,i.YL)(),n=null==t?void 0:t.uuid,r=(0,s.useQueryClient)();return(0,a.L2)("/api/organizations/".concat(n,"/projects/").concat(e,"/kb/resync"),"POST",{enabled:!!e,meta:{noToast:!0},onSuccess:t=>{"done"===t.status&&r.invalidateQueries({queryKey:[u.qz,{orgUuid:n,projectUuid:e}]})}})},g=function(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1],{activeOrganization:n}=(0,i.YL)(),r=null==n?void 0:n.uuid;return(0,a.Sk)("/api/organizations/".concat(r,"/projects/").concat(e,"/kb/stats"),{queryKey:[u.qz,{orgUuid:r,projectUuid:e}],enabled:!!e&&t})},y=()=>{let{activeOrganization:e}=(0,i.YL)(),t=null==e?void 0:e.uuid;return(0,a.L2)("/api/organizations/".concat(t,"/conversation/backfill"),"POST",{})}}}]);