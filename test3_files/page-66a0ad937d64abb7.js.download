try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="7ff75b3f-f8bc-4285-a82b-ee54cfa80c7c",e._sentryDebugIdIdentifier="sentry-dbid-7ff75b3f-f8bc-4285-a82b-ee54cfa80c7c")}catch(e){}(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9916],{22066:(e,t,n)=>{Promise.resolve().then(n.bind(n,97558)),Promise.resolve().then(n.bind(n,68145))},68145:(e,t,n)=>{"use strict";n.r(t),n.d(t,{SessionClientPage:()=>f});var s=n(54568),r=n(47592),o=n(7620),i=n(17421),a=n(98324),l=n(18849),u=n(58841),d=n(71302),c=n(16304);function f(e){let{id:t}=e,{isLoading:n,messageUuids:f,conversationTitle:g,title:m,sendMessage:p}=function(e){var t;let{data:n,isLoading:s}=(0,i.gn)(e),a=null!=(t=null==n?void 0:n.title)?t:"Untitled",{messages:l,sendMessage:u,pendingMessages:d,loadingInitialMessages:f}=(0,i.ct)(e,a),g=f||s,m=(0,o.useMemo)(()=>l?y(l,d):[],[l,d]),p=(0,o.useMemo)(()=>m.map(e=>e.uuid),[m]),h=(null==n?void 0:n.title)?"".concat(n.title," - Claude"):"Claude";return(0,r.K7)(a),(0,c.V)(e,m||[],f),{isLoading:g,messageUuids:p,conversationTitle:h,title:a,sendMessage:u}}(t);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(u.u,{conversationUuid:t,children:(0,s.jsx)(l._,{conversationUuid:t,children:(0,s.jsx)(a.v,{isLoading:n,conversationUuid:t,messageUuids:f,name:m,conversationTitle:g,onSend:e=>(p(e.prompt),Promise.resolve()),setPersonalizedStyleCallback:()=>{},isStreaming:!1,onRetry:()=>{throw Error("Cannot retry")},changeDisplayedConversationPath:()=>{throw Error("Not supported")},editMessage:()=>{throw Error("Not supported")}})})}),(0,s.jsx)(d.PaymentVerificationModal,{})]})}function g(e){var t;return Array.isArray(e.message.content)?e.message.content.filter(e=>"text"===e.type):[{type:"text",text:null!=(t=e.message.content)?t:""}]}let y=(e,t)=>{let n=[],s=0;for(let[t,o]of e.entries())if(s=t+1,"user"===o.type){let e=g(o);e.length&&n.push({index:t,content:e,sender:"human",uuid:o.uuid,created_at:"",...m})}else if("assistant"===o.type){var r;let s=function(e,t){var n,s,r,o,i;if(t&&"user"===t.type&&Array.isArray(t.message.content)&&1===t.message.content.length&&(null==(n=t.message.content[0])?void 0:n.type)==="tool_result"&&(null==(r=e.message.content)||null==(s=r[0])?void 0:s.type)==="tool_use"&&t.message.content[0].tool_use_id===(null==(i=e.message.content)||null==(o=i[0])?void 0:o.id)){let e=t.message.content[0].content,n=Array.isArray(e)?e:[{type:"text",text:null!=e?e:""}];return{...t.message.content[0],content:n}}return null}(o,e[t+1]),i=[...null!=(r=o.message.content)?r:[],...s?[s]:[]];n.push({index:t,content:i,sender:"assistant",uuid:o.uuid,created_at:"",...m})}for(let[e,r]of t.entries()){let t=g(r);t.length&&n.push({index:e+s,content:t,sender:"human",uuid:r.uuid,created_at:"",pending:!0,...m})}return n},m={attachments:[],files:[],files_v2:[],sync_sources:[]}}},e=>{e.O(0,[4364,3473,4129,7598,9666,4407,6365,9664,3402,1295,3965,4939,2574,6111,1746,3932,1658,4882,5058,489,5312,4977,2492,6685,7151,3554,2522,2678,3724,2201,4024,4130,4952,1550,6037,1520,1347,9669,4328,4813,4691,1863,9736,8579,5580,9001,6614,753,329,252,8555,2605,7415,1764,3960,4621,6443,9038,6160,1848,2588,4134,6054,4454,1312,385,9455,3396,1001,4036,222,8324,7558,5313,587,9122,7358],()=>e(e.s=22066)),_N_E=e.O()}]);