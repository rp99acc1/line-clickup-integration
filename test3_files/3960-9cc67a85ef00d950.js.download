try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="cf3b8467-2c71-4c61-ab9b-217679bfc89f",e._sentryDebugIdIdentifier="sentry-dbid-cf3b8467-2c71-4c61-ab9b-217679bfc89f")}catch(e){}"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3812,3960],{1720:(e,t,n)=>{n.d(t,{Loading:()=>l});var r=n(54568),a=n(72902),i=n(7620),o=n(59666);let l=(0,i.memo)(function(e){let{size:t="md",fullscreen:n=!1,inheritColor:l,delay:s=0}=e,[d,c]=(0,i.useState)(s>0);return(0,i.useEffect)(()=>{if(!s)return;let e=setTimeout(()=>c(!1),s);return()=>clearTimeout(e)},[s]),(0,r.jsx)("div",{className:(0,a.A)(n?"fixed left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2":"m-auto"),children:(0,r.jsx)("div",{className:(0,a.A)("sm"===t&&"h-4 w-4 border-2","md"===t&&"h-20 w-20 border-8",l?"border-current":"border-border-200","text-secondary inline-block animate-spin rounded-full border-solid border-r-transparent align-[-0.125em] motion-reduce:animate-[spin_1.5s_linear_infinite]",d&&"hidden"),role:"status",children:(0,r.jsx)("span",{className:"sr-only",children:(0,r.jsx)(o.A,{defaultMessage:"Loading...",id:"gjBiyjshwX"})})})})})},22271:(e,t,n)=>{n.d(t,{P:()=>h});var r=n(54568),a=n(64328),i=n(84284),o=n(23812),l=n(87483),s=n(67453),d=n(68067),c=n(17560),u=n(785),p=n(72902),m=n(59666),f=n(50571),g=n(10665);function h(e){var t,n;let{tool:h,server:b,children:v}=e,{account:x}=(0,a.YL)(),y=null!=(n=null==x||null==(t=x.settings)?void 0:t.enabled_mcp_tools)?n:{},_=(0,g.v)("enabled_mcp_tools")||{},{value:w}=(0,d.fS)("claude_ai_sticky_project_settings");w&&(y=_);let{toggleMcpToolEnabled:j,toggleMcpToolAlwaysApproved:k}=(0,f.es)(),{getApprovalSetting:A}=(0,f.BN)(),S=A(b.name,h),C="never"===S,N="always"===S,z=h.enabledKey,L=(e,t,n)=>(0,r.jsxs)("div",{className:"flex flex-row gap-2 items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex flex-col",children:[t,(0,r.jsx)("p",{className:"text-sm text-text-400",children:n})]}),(0,r.jsx)(c.J,{size:16,className:(0,p.A)("shrink-0",e?"opacity-1":"opacity-0")})]}),T=(0,r.jsx)(o.$,{variant:"outline",disabled:!1===y[z]||N,append:(0,r.jsx)(u.a,{size:16}),className:"!min-w-[200px] flex justify-between items-center",children:"never"===S?(0,r.jsx)(m.A,{defaultMessage:"Allow unsupervised",id:"R3Brpp1rTt"}):(0,r.jsx)(m.A,{defaultMessage:"Always ask permission",id:"vJAsn99Znq"})});return(0,r.jsxs)("div",{className:"flex flex-row gap-4 flex-shrink-0",children:[(0,r.jsx)("label",{children:(0,r.jsx)(i.j,{checked:!1!==y[z],onChange:e=>j(z,e.target.checked,b.url)})}),(0,r.jsx)("div",{className:"flex flex-grow",children:v}),(0,r.jsxs)(l.ms,{unstyledTrigger:!0,align:"start",trigger:N?(0,r.jsx)(s.Tooltip,{side:"top",tooltipContent:(0,r.jsx)(m.A,{defaultMessage:"Setting managed by your organization",id:"dmrV8MS1en"}),children:(0,r.jsx)("div",{children:T})}):T,children:[(0,r.jsx)(l.tJ,{onClick:()=>{k(h.alwaysApprovedKey,!1)},children:L(!C,(0,r.jsx)(m.A,{defaultMessage:"Always ask permission",id:"vJAsn99Znq"}),(0,r.jsx)(m.A,{defaultMessage:"Your approval is required every time",id:"Ne5BQmk7c1"}))}),(0,r.jsx)(l.tJ,{onClick:()=>{k(h.alwaysApprovedKey,!0)},children:L(C,(0,r.jsx)(m.A,{defaultMessage:"Allow unsupervised",id:"R3Brpp1rTt"}),(0,r.jsx)(m.A,{defaultMessage:"Your approval is not required",id:"9AbpSd6OJA"}))})]})]})}},23812:(e,t,n)=>{n.d(t,{$:()=>f});var r=n(54568),a=n(1720),i=n(35836),o=n(67453),l=n(54616),s=n(72902),d=n(19664),c=n.n(d),u=n(7620);let p="\n    text-text-000\n    font-base-bold\n    border-0.5\n    border-border-200\n    relative\n    overflow-hidden\n    transition\n    duration-100\n    hover:border-border-300/0\n    bg-bg-300/0\n    hover:bg-bg-400\n    backface-hidden",m=(0,l.F)("inline-flex\n  items-center\n  justify-center\n  relative\n  shrink-0\n  can-focus\n  select-none\n  disabled:pointer-events-none\n  disabled:opacity-50\n  disabled:shadow-none\n  disabled:drop-shadow-none",{variants:{variant:{primary:"bg-text-000\n        text-bg-000\n        font-base-bold\n        relative\n        overflow-hidden\n        transition-transform\n        will-change-transform\n        ease-[cubic-bezier(0.165,0.85,0.45,1)]\n        duration-150\n        hover:scale-y-[1.015]\n        hover:scale-x-[1.005]\n        backface-hidden\n        after:absolute\n        after:inset-0\n        after:bg-[radial-gradient(at_bottom,hsla(var(--bg-000)/20%),hsla(var(--bg-000)/0%))]\n        after:opacity-0\n        after:transition\n        after:duration-200\n        after:translate-y-2\n        hover:after:opacity-100\n        hover:after:translate-y-0\n        focus:!outline-text-000/75",flat:"bg-accent-main-000\n          text-oncolor-100\n          font-base-bold\n          transition-colors\n          hover:bg-accent-main-200\n          focus:!outline-accent-main-100/75",secondary:p,outline:p,ghost:"text-text-300\n          border-transparent\n          transition\n          font-base\n          duration-300\n          ease-[cubic-bezier(0.165,0.85,0.45,1)]\n          hover:bg-bg-300\n          aria-checked:bg-bg-400\n          aria-expanded:bg-bg-400\n          hover:text-text-100\n          aria-pressed:text-text-100\n          aria-checked:text-text-100\n          aria-expanded:text-text-100",danger:"bg-danger-200\n          text-oncolor-100\n          font-base-bold\n          transition\n          hover:scale-y-[1.015]\n          hover:scale-x-[1.005]\n          hover:opacity-95\n          focus:!outline-danger-100/50",unstyled:""},size:{default:"h-9 px-4 py-2 rounded-lg min-w-[5rem] active:scale-[0.985] whitespace-nowrap",sm:"h-8 rounded-md px-3 min-w-[4rem] active:scale-[0.985] whitespace-nowrap !text-xs",lg:"h-11 rounded-[0.6rem] px-5 min-w-[6rem] active:scale-[0.985] whitespace-nowrap !text-base",icon:"h-9 w-9 rounded-md active:scale-95 shrink-0",icon_xs:"h-6 w-6 rounded-md active:scale-95",icon_sm:"h-8 w-8 rounded-md active:scale-95",icon_lg:"h-11 w-11 rounded-[0.6rem] active:scale-95",inline:"px-0.5 rounded-[0.25rem]",unset:""},option:{rounded:"!rounded-full",prepend:"",append:""},state:{active:""}},compoundVariants:[{size:"default",option:"prepend",class:"pl-2 pr-3 gap-1"},{size:"lg",option:"prepend",class:"pl-2.5 pr-3.5 gap-1"},{size:"sm",option:"prepend",class:" pl-2 pr-2.5 gap-1"},{size:"default",option:"append",class:"pl-3 pr-2 gap-1"},{size:"lg",option:"append",class:"pl-3.5 pr-2.5 gap-1"},{size:"sm",option:"append",class:"pl-2.5 pr-2 gap-1"},{variant:"ghost",state:"active",class:"!bg-bg-400"}],defaultVariants:{variant:"primary",size:"default"}}),f=(0,u.forwardRef)((e,t)=>{let{className:n,variant:l,size:d,option:u,loading:p,href:f,onLinkClick:g,target:h,prepend:b,append:v,state:x,disabled:y,children:_,type:w="button",tooltip:j,tooltipSide:k="bottom",tooltipDelay:A,tooltipDisabled:S,tooltipHoverable:C=!1,shortcut:N,...z}=e;b&&(u="prepend"),(v||N)&&(u="append");let L=(0,s.A)(m({variant:l,size:d,option:u,state:x,className:n}),p&&"text-transparent ![text-shadow:_none]"),T=(0,r.jsxs)(r.Fragment,{children:[p&&(0,r.jsx)("div",{className:(0,s.A)("absolute inset-0 flex items-center justify-center",l&&"flat"!==l&&"danger"!==l?"secondary"===l?"text-text-400":"text-bg-300":"text-bg-000"),children:(0,r.jsx)(a.Loading,{size:"sm",inheritColor:!0,delay:0})}),b,_,v,N&&(0,r.jsx)(i.ShortcutDisplay,{className:"ml-1",onDark:!l||"flat"===l||"danger"===l||"primary"===l,small:!0,shortcut:N})]}),E=f?(0,r.jsx)(c(),{href:f,target:h||"_self",className:L,"aria-label":z["aria-label"],onClick:g,children:T}):(0,r.jsx)("button",{className:L,ref:t,disabled:y||p,type:w,...z,children:T});return j?(0,r.jsx)(o.Tooltip,{tooltipContent:j,side:k,delayDuration:A,disableHoverableContent:!C,children:(0,r.jsx)("div",{className:"w-fit",children:E})}):E});f.displayName="Button"},35836:(e,t,n)=>{n.d(t,{ShortcutDisplay:()=>l});var r=n(54568),a=n(37858),i=n(47592),o=n(72902);function l(e){var t;let{shortcut:n,small:l=!1,onDark:s=!1,className:d}=e,c=null!=(t=(0,i.vm)())&&t,u=(0,a.y)(n,c);return(0,r.jsx)("div",{className:(0,o.A)(d,"flex items-center gap-1",l?"gap-1":"gap-1.5"),children:u.map((e,t)=>(0,r.jsx)("kbd",{className:(0,o.A)("font-base select-none inline-flex items-center justify-center rounded",l?"min-w-5 h-5 px-1":"min-w-7 h-7 px-2",s?"bg-bg-000/25":"bg-bg-300"),children:e},t))})}},37858:(e,t,n)=>{n.d(t,{w:()=>o,y:()=>i});var r=n(47592),a=n(7620);function i(e,t){if(!e)return[];let n=e.toLowerCase().split("+").map(e=>e.trim()),r=[],a=[];n.forEach(e=>{["cmd","command","meta","ctrl","control","alt","option","shift"].includes(e)?r.push(e):a.push(e)});let i=["ctrl","control","alt","option","shift","cmd","command","meta"];return[...r.sort((e,t)=>i.indexOf(e)-i.indexOf(t)).map(e=>t?({ctrl:"⌃",control:"⌃",alt:"⌥",option:"⌥",shift:"⇧",cmd:"⌘",command:"⌘",meta:"⌘"})[e]:({ctrl:"Ctrl",control:"Ctrl",alt:"Alt",option:"Alt",shift:"⇧",cmd:"Ctrl",command:"Ctrl",meta:"Ctrl"})[e]),...a.map(e=>{if(t){if("space"===e)return"␣";if("enter"===e||"return"===e)return"⏎";if("delete"===e||"backspace"===e)return"⌫";if("escape"===e||"esc"===e)return"Esc";if("tab"===e)return"⇥";if("up"===e)return"↑";if("down"===e)return"↓";if("left"===e)return"←";if("right"===e)return"→"}else{if("space"===e)return"Space";if("enter"===e||"return"===e)return"Enter";if("delete"===e||"backspace"===e)return"Backspace";if("escape"===e||"esc"===e)return"Esc";if("tab"===e)return"Tab";if("up"===e)return"Up";if("down"===e)return"Down";if("left"===e)return"Left";if("right"===e)return"Right"}return e.match(/^f\d+$/)||1===e.length?e.toUpperCase():e.charAt(0).toUpperCase()+e.slice(1)})]}function o(e){var t;let n=null!=(t=(0,r.vm)())&&t;return(0,a.useMemo)(()=>{let t=i(e,n);return n?t.join(""):t.join("+")},[e,n])}},44007:(e,t,n)=>{n.d(t,{u3:()=>p,oQ:()=>f,p9:()=>m});var r=n(64328),a=n(92693),i=n(68067),o=n(69287),l=n(7620);function s(e){var t,n,r,a,i,o,l,s;return{name:e.name,description:null!=(t=e.description)?t:void 0,annotations:e.annotations?{title:null!=(n=e.annotations.title)?n:void 0,readOnlyHint:null!=(r=e.annotations.readOnlyHint)?r:void 0,destructiveHint:null!=(a=e.annotations.destructiveHint)?a:void 0,idempotentHint:null!=(i=e.annotations.idempotentHint)?i:void 0,openWorldHint:null!=(o=e.annotations.openWorldHint)?o:void 0}:void 0,inputSchema:{...e.inputSchema,properties:null!=(l=e.inputSchema.properties)?l:void 0,required:null!=(s=e.inputSchema.required)?s:void 0},displayName:e.displayName,enabledKey:e.enabled_key,alwaysApprovedKey:e.always_approved_key}}function d(e){var t,n,r,a;return{name:e.name,description:null!=(n=e.description)?n:void 0,title:null!=(r=e.title)?r:void 0,arguments:null==(t=e.arguments)?void 0:t.map(e=>{var t,n;return{name:e.name,description:null!=(t=e.description)?t:void 0,required:null!=(n=e.required)?n:void 0}}),_meta:null!=(a=e._meta)?a:void 0,displayName:e.displayName}}function c(e){var t,n,r,a,i,o;return{uri:e.uri,name:e.name,description:null!=(t=e.description)?t:void 0,title:null!=(n=e.title)?n:void 0,mimeType:null!=(r=e.mimeType)?r:void 0,size:null!=(a=e.size)?a:void 0,annotations:null!=(i=e.annotations)?i:void 0,_meta:null!=(o=e._meta)?o:void 0,displayName:e.displayName}}var u=n(35580);function p(e,t){u.eZ.getState().setRemoteIsLoading(!0);let n=new EventSource("/api/organizations/".concat(e,"/mcp/v2/bootstrap"),{withCredentials:!0});n.onerror=()=>{n.close(),u.eZ.getState().setRemoteIsLoading(!1),(0,o.Cp)(Error("MCP bootstrap stream error"),{tags:{action:"mcp_bootstrap_stream_error"},extra:{orgUuid:e}})},n.addEventListener("server_list",t=>{try{let{servers:e}=JSON.parse(t.data);for(let t of(u.eZ.getState().setRemoteIsLoading(!1),e))if((0,u.nd)(t.uuid)){let e={uuid:t.uuid,name:t.name,url:t.url,custom_oauth_client_id:null,custom_oauth_client_secret:void 0,created_at:new Date().toISOString(),updated_at:new Date().toISOString(),is_authenticated:!1};(0,u.rD)(e)}}catch(n){(0,o.Cp)(n,{tags:{action:"mcp_bootstrap_stream_server_list_parse"},extra:{orgUuid:e,eventData:t.data}})}}),n.addEventListener("server_data",n=>{try{var r,i;let e=JSON.parse(n.data);if((0,u.nd)(e.uuid)&&(0,u.s$)(e.uuid)){let t={uuid:e.uuid,name:e.name,url:e.url,custom_oauth_client_id:e.custom_oauth_client_id,custom_oauth_client_secret:void 0,created_at:new Date().toISOString(),updated_at:new Date().toISOString(),is_authenticated:null!=(r=e.usedAuthentication)&&r};(0,u.rD)(t)}let o=e.tools||[],l=t?(0,a.M)(o):o,p=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map(s)}(l),m=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map(d)}(e.prompts),f=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map(c)}(e.resources),g=u.eZ.getState();g.setRemoteTools(e.uuid,p),g.setRemotePrompts(e.uuid,m),g.setRemoteResources(e.uuid,f),e.connected?(0,u.n3)(e.uuid,null!=(i=e.usedAuthentication)&&i):g.disconnectRemoteServer(e.uuid)}catch(t){(0,o.Cp)(t,{tags:{action:"mcp_bootstrap_stream_parse"},extra:{orgUuid:e,eventData:n.data}})}}),n.addEventListener("completed",()=>{n.close(),u.eZ.getState().setRemoteIsLoading(!1)})}let m=()=>{let{value:e}=(0,i.fS)("mcp_tb_sessions");return e};function f(){let{activeOrganization:e}=(0,r.YL)(),t=null==e?void 0:e.uuid,{value:n}=(0,i.fS)("claude_ai_unicode_sanitize_mcp_data"),a=m();(0,l.useEffect)(()=>{a&&t&&p(t,n)},[a,t,n])}},47592:(e,t,n)=>{n.d(t,{Fr:()=>a,K7:()=>p,Nj:()=>m,cX:()=>o,fJ:()=>u,lh:()=>f,uF:()=>d,vm:()=>l});var r=n(7620);function a(){return window.innerWidth<640}let i=/(macintosh|macintel|macppc|mac68k|macos)/i;function o(){let e=window.navigator.userAgent.toLowerCase();return i.test(e)}function l(){return(0,r.useMemo)(()=>/(macintosh|macintel|macppc|mac68k|macos)/i.test(window.navigator.userAgent),[])}let s=/(win32|win64|windows|wince)/i;function d(){let e=window.navigator.userAgent.toLowerCase();return s.test(e)}let c=/(iphone|ipad|ipod|android|mobile|webos)/i;function u(){let e=window.navigator.userAgent.toLowerCase();return c.test(e)}function p(e){(0,r.useEffect)(()=>{let t=document.title;return e&&(document.title="".concat(e," - Claude")),()=>{document.title=t}},[e])}let m=e=>{try{return new URL(e).hostname.split(".").slice(-2).join(".")}catch(e){return}},f=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:32,n=[16,32,48,64,96,128].find(e=>e>=2*t)||128,r=m(e);if(r)return"https://www.google.com/s2/favicons?domain=".concat(r,"&sz=").concat(n)}},50571:(e,t,n)=>{n.d(t,{$V:()=>w,vx:()=>y,kX:()=>_,HJ:()=>x,sb:()=>v,v_:()=>N,BN:()=>k,M8:()=>S,ko:()=>j,AY:()=>A,es:()=>C}),n(42759);var r=n(94295),a=n(19736),i=n(74813),o=n(64328),l=n(28),s=n(68067),d=n(28044),c=n(7620),u=n(96547),p=n(45538),m=n(98649),f=n(42605),g=n(88775),h=n(66365),b=n(35580);n(10665);let v=()=>{let{value:e}=(0,s.fS)("bagel_enabled");return e},x=()=>{let{value:e}=(0,s.fS)("inline_tool_approval");return e},y=()=>{let{account:e,activeOrganization:t}=(0,o.YL)(),n=(0,o.mV)(),r=(0,l.pG)(e,t,"claude-ai"),a=(0,l.yI)(e,t,l.Nt.IntegrationsManage);return!n||r||a},_=()=>{let e=(0,o.zm)(),t=y();return e&&!t},w="mcp_directory_chin",j=function(){var e,t;let{shouldTrack:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=(0,c.useRef)(!1),a=v(),{dismiss:i}=(0,m.W)(),{account:l}=(0,o.YL)(),s=_(),d=new Date,u="".concat(d.getDate(),"-").concat(d.getMonth(),"-").concat(d.getFullYear()),p="".concat(w,"_").concat(u),f=(null!=(t=null==l||null==(e=l.settings.dismissed_claudeai_banners)?void 0:e.map(e=>e.banner_id))?t:[]).filter(e=>e.includes(w)),g=(0,c.useMemo)(()=>!(!a||s||f.includes(w))&&(!(f.length>3)||!f.includes(p)),[s,a,f,p]);return(0,c.useEffect)(()=>{!r.current&&g&&!f.includes(p)&&n&&(i(p),r.current=!0)},[p,f,n,i,g]),g},k=()=>{var e;let{getMcpToolApprovalRequestSetting:t}=function(){let{value:e}=(0,h.useDynamicConfig)("mcp_tool_approval_config"),t=(0,c.useCallback)((t,n)=>{var r,a,i,o;if(e){if((null==(r=e[t])?void 0:r[n])!==void 0)return e[t][n];if((null==(a=e[t])?void 0:a["*"])!==void 0)return e[t]["*"];if((null==(i=e["*"])?void 0:i[n])!==void 0)return e["*"][n];if((null==(o=e["*"])?void 0:o["*"])!==void 0)return e["*"]["*"]}},[e]);return{toolApprovalConfig:e,getMcpToolApprovalRequestSetting:t}}(),n=(()=>{let{value:e}=(0,s.fS)("disable_destructive_mcp_tools_by_default");return e})(),{account:r}=(0,o.YL)(),a=null==r||null==(e=r.settings)?void 0:e.enabled_mcp_tools,i=(0,c.useRef)(a);return(0,c.useEffect)(()=>{i.current=a},[a]),{getApprovalSetting:(0,c.useCallback)((e,r)=>{var a,o,l,s;let d=t(null!=e?e:"",null!=(l=null==r?void 0:r.name)?l:""),c=(null==r||null==(a=r.annotations)?void 0:a.readOnlyHint)!==!0&&(null==r||null==(o=r.annotations)?void 0:o.destructiveHint)===!0;if(n&&c&&void 0===d)return"always";let u=r?(null!=(s=i.current)?s:{})[r.alwaysApprovedKey]:void 0;return"perChat"===d||"always"===d?"always":u?"never":!1===u?"ask":null!=d?d:"ask"},[t,n])}},A=()=>{let e=(0,b.Uz)({type:"local"});return!!(0,d.V)()&&e.length>0},S=()=>{var e,t,n;let r=(0,f.o)(),a=(null==(e=r.pendingConversationSettings)?void 0:e.compass_mode)==="advanced"||(null==(n=r.conversation)||null==(t=n.conversationSettings)?void 0:t.compass_mode)==="advanced",i=(0,b.Uz)({type:"remote"}).length>0;return a&&i},C=e=>{let t=(0,g.jw)(),{account:n}=(0,o.YL)(),l=(0,g.QN)(),{data:d}=(0,p.xQ)(l),{mutate:c}=(0,p.mu)(l),{value:u}=(0,s.fS)("claude_ai_sticky_project_settings"),{track:m}=(0,i.st)(),{mutate:f}=(0,r.Jy)(),{mutate:h}=(0,a.HF)(null==t?void 0:t.id);return{toggleMcpToolEnabled:(r,a,i)=>{if(!n)return;let o=Array.isArray(r)?r.reduce((e,t)=>({...e,[t]:a}),{}):{[r]:a};if(t){var s;h({settings:{enabled_mcp_tools:{...null==(s=t.conversationSettings)?void 0:s.enabled_mcp_tools,...o}}})}if(l&&u){if(!d)return;c({...d,enabled_mcp_tools:{...(null==d?void 0:d.enabled_mcp_tools)||{},...o}})}else{let e=n.settings.enabled_mcp_tools;f({...n.settings,enabled_mcp_tools:{...e,...o}})}m({event_key:"claudeai.mcp.tool.toggled",conversation_uuid:(null==t?void 0:t.id)||null,setting:r,value:a,url:i,source:null==e?void 0:e.source})},toggleMcpToolAlwaysApproved:(e,t)=>{if(!n)return;let r=n.settings.enabled_mcp_tools;f({...n.settings,enabled_mcp_tools:{...r,[e]:t}})}}},N=e=>{let{activeOrganization:t}=(0,o.YL)(),n=null==t?void 0:t.uuid,{data:r}=(0,u.XT)(n,e||"",{enabled:!!e&&!!n});return!!r}},59922:(e,t,n)=>{n.d(t,{J:()=>o});var r=n(72902),a=n(7620);function i(e){return function(t){for(var n=arguments.length,i=Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];let l=t.map(e=>e.replace(/\n/g,"").trim()),s=a.forwardRef((t,n)=>{let{className:o,...s}=t,d=i.map(e=>"function"==typeof e?e(t):e),c=Object.fromEntries(Object.entries(s).filter(e=>{let[t]=e;return!t.startsWith("$")}));return a.createElement(e,{...c,ref:n,className:(0,r.A)(l,d,"string"==typeof o?o:"")})});return s.displayName="string"==typeof e?e:e.displayName,s}}function o(e){return i(e)}o.a=i("a"),o.aside=i("aside"),o.button=i("button"),o.main=i("main"),o.div=i("div"),o.form=i("form"),o.nav=i("nav"),o.fieldset=i("fieldset"),o.header=i("header"),o.h1=i("h1"),o.h2=i("h2"),o.h3=i("h3"),o.h4=i("h4"),o.h5=i("h5"),o.th=i("th"),o.td=i("td"),o.input=i("input"),o.label=i("label"),o.p=i("p"),o.section=i("section"),o.span=i("span"),o.li=i("li"),o.table=i("table"),o.thead=i("thead"),o.tbody=i("tbody"),o.tr=i("tr")},67453:(e,t,n)=>{n.d(t,{Tooltip:()=>f});var r=n(2348),a=n(54568),i=n(59922),o=n(37858),l=n(72902),s=n(61295),d=n(30563);function c(){let e=(0,r._)(["\n  px-2\n  py-1\n  text-xs\n  font-normal\n  font-ui\n  leading-tight\n  rounded-md\n  shadow-md\n  text-white\n  bg-black/80\n  backdrop-blur\n  break-words\n  z-tooltip\n  max-w-[13rem]\n  [*:disabled_&]:hidden\n"]);return c=function(){return e},e}function u(){let e=(0,r._)(["\n  max-w-[337px]\n  z-tooltip\n  [*:disabled_&]:hidden\n"]);return u=function(){return e},e}function p(){let e=(0,r._)(["\n  p-1\n  font-small-bold\n  rounded-lg\n  shadow-md\n  text-white\n  bg-black/80\n  backdrop-blur\n  break-words\n  z-tooltip\n  max-w-[13rem]\n  [*:disabled_&]:hidden\n"]);return p=function(){return e},e}function m(){let e=(0,r._)(["\n  p-1\n  font-base\n  border-border-300\n  border-0.5\n  rounded-lg\n  shadow-diffused \n  shadow-[hsl(var(--always-black)/4%)]\n  text-text-100\n  bg-bg-100\n  break-words\n  z-tooltip\n  max-w-[13rem]\n  [*:disabled_&]:hidden\n"]);return m=function(){return e},e}function f(e){let{children:t,tooltipContent:n,contentStyle:r="default",side:i="top",sideOffset:s,align:c,className:u,delayDuration:p=200,keyboardShortcut:m,...f}=e,g=b[r],h=(0,o.w)(m||"");return(0,a.jsx)(d.Kq,{delayDuration:p,children:(0,a.jsxs)(d.bL,{...f,children:[(0,a.jsx)(d.l9,{asChild:!0,children:t}),(0,a.jsx)(d.ZL,{children:(0,a.jsx)("span",{children:(0,a.jsxs)(g,{className:(0,l.A)(u,!n&&"hidden"),sideOffset:null!=s?s:5,side:i,align:c,children:[n,m&&(0,a.jsx)("span",{className:"ml-1.5 opacity-70",children:h})]})})})]})})}let g=(0,i.J)(d.UC)(c()),h=(0,i.J)(d.UC)(u()),b={default:g,citation:e=>{let{children:t,...n}=e;return(0,a.jsx)(h,{...n,children:(0,a.jsx)(s.P.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.2},className:"p-1 font-base text-text-200 bg-bg-100 break-words border-0.5 border-border-300/25 max-h-[300px] shadow-diffused shadow-[hsl(var(--always-black)/4%)] rounded-lg overflow-y-auto",children:t})})},inputMenu:(0,i.J)(d.UC)(p()),sampleImage:(0,i.J)(d.UC)(m())}},68010:(e,t,n)=>{n.d(t,{M:()=>d});var r=n(54568),a=n(23812),i=n(43178),o=n(72902),l=n(7620),s=n(59666);function d(e){let{text:t,className:n}=e,[d,c]=(0,l.useState)(!1),u=(0,l.useRef)(null),p=(0,l.useRef)(0),[m,f]=(0,l.useState)(42),g=m>42;return((0,l.useLayoutEffect)(()=>{var e;f((null==(e=u.current)?void 0:e.scrollHeight)||0)},[t]),t)?(0,r.jsxs)("div",{className:(0,o.A)("overflow-hidden relative transition-[height] duration-150 ease-in-out","text-text-300 text-sm",n),style:{height:d?m+32*!!g:40},children:[(0,r.jsx)("div",{ref:u,className:"whitespace-pre-wrap",style:{wordBreak:"break-word",overflowWrap:"anywhere"},children:t}),g&&(0,r.jsx)("div",{className:"absolute bottom-0 right-0 bg-bg-100 bottom-0",children:(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("div",{className:"absolute top-0 bottom-0 -left-4 w-6 bg-gradient-to-r from-transparent to-bg-100"}),(0,r.jsx)(a.$,{size:"inline",variant:"ghost",onClick:()=>{var e;let t=null==(e=u.current)?void 0:e.closest(".overflow-y-auto");!d&&t?p.current=t.scrollTop:d&&t&&t.scrollTo({top:p.current,behavior:"instant"}),c(e=>!e)},className:"font-medium flex gap-1 items-center",children:d?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.Z,{size:12,weight:"bold"}),(0,r.jsx)(s.A,{defaultMessage:"Less",id:"mFYgAXM/x4"})]}):(0,r.jsx)(s.A,{defaultMessage:"{ellipsis}More",id:"eRW5dl5m34",values:{ellipsis:"..."}})})]})})]}):null}},84284:(e,t,n)=>{n.d(t,{j:()=>i});var r=n(54568),a=n(72902);function i(e){let{className:t,variant:n,width:i=36,height:l=20,children:s,disableAnimation:d,...c}=e,u="number"==typeof l?"".concat(l,"px"):l,p="number"==typeof i?"".concat(i,"px"):i,m="calc(".concat(u," - 4px)"),f="calc(".concat(p," - ").concat(u,")");return(0,r.jsxs)("div",{className:(0,a.A)("group/switch relative select-none cursor-pointer",t),children:[(0,r.jsx)("input",{type:"checkbox",style:{width:i,height:u},className:"peer sr-only",role:"switch",...c}),(0,r.jsx)("div",{style:{width:i,height:u},className:(0,a.A)("border-border-300 rounded-full peer:can-focus peer-disabled:opacity-50",d&&"!transition-none",o.pill[n||"default"])}),(0,r.jsx)("div",{style:{height:m,width:m,transform:"translateX(".concat(c.checked?f:"0",")")},className:(0,a.A)("absolute flex items-center justify-center start-[2px] top-[2px] rounded-full transition-all",d&&"!transition-none",o.circle[n||"default"]),children:s})]})}let o={pill:{default:"\n    bg-bg-500\n    transition-colors\n    peer-checked:bg-accent-secondary-100\n    ",blackAndWhite:"\n    bg-bg-500  \n    ",dark:"\n    bg-bg-500\n    transition-colors\n    peer-checked:bg-text-100\n    dark:bg-border-200\n    dark:peer-checked:bg-text-500\n    "},circle:{default:"\n    group-hover/switch:opacity-80\n    bg-white\n    transition\n    ",blackAndWhite:"\n    group-hover/switch:opacity-80\n    bg-bg-000\n    transition\n    duration-200\n    ",dark:"\n    group-hover/switch:opacity-80\n    bg-white\n    transition\n    "}}},87483:(e,t,n)=>{n.d(t,{AM:()=>y,Bi:()=>w,DG:()=>J,FV:()=>M,MS:()=>S,RP:()=>A,Wn:()=>E,cm:()=>C,ms:()=>x,o_:()=>N,q:()=>T,tJ:()=>L});var r=n(2348),a=n(54568),i=n(59922),o=n(14691),l=n(72902),s=n(94882),d=n(7620);function c(){let e=(0,r._)(["\n  outline-none\n  py-2\n  px-1.5\n  -mx-1\n  -mt-1\n  mb-1\n  border-b-0.5\n  border-border-300\n"]);return c=function(){return e},e}function u(){let e=(0,r._)(["\n  z-dropdown\n  bg-bg-000\n  border-0.5\n  border-border-300\n  backdrop-blur-xl\n  rounded-xl\n  min-w-[8rem]\n  overflow-hidden\n  p-1.5\n  text-text-300\n  shadow-diffused \n  shadow-[hsl(var(--always-black)/4%)]\n  max-h-[min(var(--radix-dropdown-menu-content-available-height),var(--dropdown-max-height))]\n  overflow-y-auto\n"]);return u=function(){return e},e}function p(){let e=(0,r._)(["\n  rounded\n  py-1\n  px-2\n  max-w-full\n  whitespace-nowrap\n  text-ellipsis\n  overflow-hidden\n"]);return p=function(){return e},e}function m(){let e=(0,r._)(["text-text-500 pt-1 px-2"]);return m=function(){return e},e}function f(){let e=(0,r._)(["\n  font-base  \n  py-1.5\n  px-2\n  rounded-lg\n  cursor-pointer\n  whitespace-nowrap\n  overflow-hidden\n  text-ellipsis\n  grid\n  grid-cols-[minmax(0,_1fr)_auto]\n  gap-2\n  items-center\n  outline-none\n  select-none\n  [&[data-highlighted]]:bg-bg-200\n  [&[data-highlighted]]:text-text-000\n  ","\n  ","\n"]);return f=function(){return e},e}function g(){let e=(0,r._)(["\n  py-1.5\n  px-2\n  rounded-lg\n  whitespace-nowrap\n  overflow-hidden\n  text-ellipsis\n  flex\n  justify-between\n  gap-2\n  items-center\n"]);return g=function(){return e},e}function h(){let e=(0,r._)(["\n  py-1.5\n  px-2\n  rounded-lg\n  cursor-pointer\n  whitespace-nowrap\n  overflow-hidden\n  text-ellipsis\n  grid\n  grid-cols-[minmax(0,_1fr)_auto]\n  gap-2\n  items-center\n  outline-none\n  select-none\n  [&[data-highlighted]]:bg-bg-200\n  [&[data-highlighted]]:text-text-300\n"]);return h=function(){return e},e}function b(){let e=(0,r._)(["\n  z-dropdown\n  bg-bg-000\n  border-0.5\n  border-border-300\n  backdrop-blur-xl\n  rounded-xl\n  min-w-[8rem]\n  overflow-hidden\n  p-1\n  text-text-300\n  shadow-diffused \n  shadow-[hsl(var(--always-black)/4%)]\n  overflow-y-scroll\n  max-h-[min(100vh,var(--dropdown-max-height))]\n"]);return b=function(){return e},e}function v(){let e=(0,r._)(["\n  h-0\n  border-t-0.5\n  border-border-300\n  m-1\n"]);return v=function(){return e},e}function x(e){let{trigger:t,children:n,unstyledTrigger:r=!1,...i}=e;return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(_,{...i,trigger:r?(0,a.jsx)(s.l9,{asChild:!0,children:t}):(0,a.jsx)(k,{asChild:!0,children:t}),children:n})})}function y(e){let{children:t,open:n,mainButtonText:r,onClickMainButton:i,align:d="end",...c}=e;return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(_,{...c,align:d,trigger:(0,a.jsxs)("div",{className:"flex h-8 whitespace-nowrap",children:[(0,a.jsx)("button",{className:(0,l.A)("font-base-bold !text-xs rounded-l-lg bg-bg-000 h-full flex items-center justify-center px-2 border-y border-l border-border-300 hover:bg-bg-200",n&&"bg-bg-200"),onClick:i,children:r}),(0,a.jsx)(s.l9,{asChild:!0,children:(0,a.jsx)("button",{className:"bg-bg-000 flex items-center justify-center px-1 hover:bg-bg-200 rounded-r-lg border border-border-300",children:(0,a.jsx)(o.bi,{size:16})})})]}),children:t})})}function _(e){var t;let{matchTriggerWidth:n=!1,children:r,open:i,onOpenChange:o,trigger:l,modal:d,...c}=e;return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)(s.bL,{open:i,onOpenChange:o,modal:d,children:[l,(0,a.jsx)(s.ZL,{children:(0,a.jsx)(j,{style:n?{width:"var(--radix-dropdown-menu-trigger-width)"}:void 0,sideOffset:null!=(t=c.sideOffset)?t:4,...c,children:r})})]})})}let w=(0,i.J)(s.lp)(c()),j=(0,i.J)(s.UC)(u()),k=(0,i.J)(s.l9)(p()),A=s.I,S=s.Pb,C=s.ZL,N=(0,i.J)(s.lp)(m()),z=(0,i.J)(s.q7)(f(),e=>{let{disabled:t}=e;return t&&"\n    opacity-50\n    pointer-events-none\n  "},e=>{let{danger:t}=e;return t&&"\n    !text-danger-000\n    [&[data-highlighted]]:bg-danger-900\n  "}),L=d.forwardRef((e,t)=>{let{children:n,icon:r,...i}=e;return r?(0,a.jsx)(z,{ref:t,...i,children:(0,a.jsxs)("div",{className:"flex items-center gap-2.5 w-full py-0.5 text-sm group",children:[r,(0,a.jsx)("span",{children:n})]})}):(0,a.jsx)(z,{ref:t,...i,children:n})});L.displayName="DropdownItem";let T=i.J.div(g()),E=(0,i.J)(s.ZP)(h()),M=(0,i.J)(s.G5)(b()),J=(0,i.J)(s.mB)(v())},96547:(e,t,n)=>{n.d(t,{vW:()=>S,R4:()=>A,qb:()=>_,ll:()=>w,XT:()=>y,eB:()=>x,W3:()=>j,lu:()=>v,p4:()=>k});var r=n(74813),a=n(1613),i=n(64328),o=n(45054),l=n(80688),s=n(68067),d=n(4869),c=n(7620),u=n(24407),p=n(44007),m=n(42605),f=n(44894),g=n(35580);function h(e){let t=window.atob(e),n=new ArrayBuffer(t.length),r=new Uint8Array(n);for(let e=0;e<t.length;e++)r[e]=t.charCodeAt(e);return n}let b=u.Ay.object({uuid:u.Ay.string().uuid(),name:u.Ay.string(),url:u.Ay.string(),created_at:u.Ay.string().datetime(),updated_at:u.Ay.string().datetime(),custom_oauth_client_id:u.Ay.string().nullable().optional(),custom_oauth_client_secret:u.Ay.string().nullable().optional(),is_authenticated:u.Ay.boolean().default(!1)}),v=()=>{let{value:e}=(0,s.fS)("papi_mcp");return e};function x(e,t){let n=v(),r=(0,p.p9)();return(0,a.Sk)("/api/organizations/".concat(e,"/mcp/remote_servers"),{queryKey:[l.lA,e],enabled:!r&&n&&!!e,...t,select:e=>u.z.array(b).parse(e)})}function y(e,t,n){return(0,a.Sk)("/api/organizations/".concat(e,"/mcp/remote_servers/").concat(t),{queryKey:[l.Sm,e,t],enabled:!!e&&!!t,...n,select:e=>b.parse(e)})}function _(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,{track:i}=(0,r.st)(),o=(0,d.useQueryClient)(),c=(0,p.p9)(),{value:u}=(0,s.fS)("claude_ai_unicode_sanitize_mcp_data");return(0,a.L2)("/api/organizations/".concat(e,"/mcp/remote_servers"),"POST",{...t,onSuccess:(r,a,s)=>{var d;c&&((0,g.rD)(r),(0,p.u3)(e,u)),o.invalidateQueries({queryKey:[l.qE,e]}),null==(d=t.onSuccess)||d.call(t,r,a,s),i({event_key:"claudeai.mcp.create_server",source:n.source,url:r.url,type:"remote"})}})}function w(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=(0,d.useQueryClient)(),i=(0,p.p9)(),{value:o}=(0,s.fS)("claude_ai_unicode_sanitize_mcp_data");return(0,a.L2)("/api/organizations/".concat(e,"/mcp/remote_servers/").concat(t),"DELETE",{...n,onSuccess:(a,s,d)=>{var c;(0,g.eg)(t),i?(0,p.u3)(e,o):(r.setQueryData([l.lA,e],e=>{var n;return null!=(n=null==e?void 0:e.filter(e=>e.uuid!==t))?n:[]}),r.invalidateQueries({queryKey:[l.lA,e]})),r.invalidateQueries({queryKey:[l.qE,e]}),null==(c=n.onSuccess)||c.call(n,a,s,d)}})}function j(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=(0,d.useQueryClient)(),i=(0,p.p9)(),{value:o}=(0,s.fS)("claude_ai_unicode_sanitize_mcp_data");return(0,a.L2)("/api/organizations/".concat(e,"/mcp/logout/").concat(t),"POST",{...n,onSettled:()=>{(0,g.Ug)(t)},onSuccess:(t,a,s)=>{var d;i?(0,p.u3)(e,o):r.invalidateQueries({queryKey:[l.lA,e]}),r.invalidateQueries({queryKey:[l.qE,e]}),null==(d=n.onSuccess)||d.call(n,t,a,s)}})}function k(e){let t=(0,p.p9)(),{activeOrganization:n}=(0,i.YL)(),r=null==n?void 0:n.uuid;return(0,a.L2)("/api/organizations/".concat(r,"/chat_conversations/").concat(e,"/tool_approval"),"POST",{enabled:!!e&&!!r&&t})}function A(){let{mutateAsync:e}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,p.p9)(),{activeOrganization:n}=(0,i.YL)(),r=null==n?void 0:n.uuid;return(0,a.L2)("/api/organizations/".concat(r,"/mcp/attach_resource"),"POST",{enabled:t&&!!r,...e})}(),t=C(),{addError:n}=(0,o.Y)(),l=(0,p.p9)(),s=function(){let{addError:e}=(0,o.Y)(),{track:t}=(0,r.st)(),{handleUpload:n}=(0,m.o)();return(0,c.useCallback)(async(r,a)=>{try{let e=(await (0,g.KU)(r).readResource({uri:a.uri},{timeout:15e3})).contents.map(e=>{let n;return"text"in e?(n=String(e.text),t({event_key:"mcp.resources.read",type:"text",mime_type:e.mimeType})):(n=h(e.blob),t({event_key:"mcp.resources.read",type:"binary",mime_type:e.mimeType})),new File([n],a.name,{type:e.mimeType})});e.length>0&&await n(e)}catch(t){e("Failed to upload resource. You can try again.",{error:t})}},[t,e,n])}();return(0,c.useCallback)(async r=>{let{serverUuid:a,resource:i,onClose:o}=r;if(!l)return s(a,i);{let r;try{let e=(0,g.KU)(a);r=await e.readResource({uri:i.uri},{timeout:15e3})}catch(e){}try{let n=await e({resource:i,server_uuid:a,result:r});t(n),null==o||o()}catch(e){n("Failed to attach resource. You can try again.",{error:e,errorContext:{tags:{action:"attach_resource"},extra:{serverUuid:a}}})}}},[e,t,n,l,s])}function S(e){let{mutateAsync:t}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,p.p9)(),{activeOrganization:n}=(0,i.YL)(),r=null==n?void 0:n.uuid;return(0,a.L2)("/api/organizations/".concat(r,"/mcp/attach_prompt"),"POST",{enabled:t&&!!r,...e})}(),n=C(),{addError:l}=(0,o.Y)(),s=(0,p.p9)(),d=function(e){let{track:t}=(0,r.st)(),{addError:n}=(0,o.Y)(),{handleUpload:a}=(0,m.o)();return(0,c.useCallback)(async(r,i,o)=>{try{let n=await (0,g.KU)(r).getPrompt({name:i.name,arguments:o},{timeout:15e3});t({event_key:"mcp.prompts.used",argument_count:Object.keys(o).length,assistant_messages:n.messages.filter(e=>"assistant"===e.role).length,user_messages:n.messages.filter(e=>"user"===e.role).length,text_messages:n.messages.filter(e=>"text"===e.content.type).length,image_messages:n.messages.filter(e=>"image"===e.content.type).length});let l=(e,t)=>{let n=e=>{let t=f._F[e];if(!t)throw Error("Unsupported MIME type: ".concat(e));return t},r=e=>"".concat(i.name).concat(t?"_".concat(t):"",".").concat(e);switch(e.content.type){case"text":return new File([e.content.text],r("txt"),{type:"text/plain"});case"image":{let t=n(e.content.mimeType);return new File([h(e.content.data)],r(t),{type:e.content.mimeType})}case"resource":if("text"in e.content.resource){var a;let t=e.content.resource;return new File([t.text],"".concat(t.uri,".txt"),{type:null!=(a=t.mimeType)?a:"text/plain"})}if("blob"in e.content.resource){let t=e.content.resource;if(!t.mimeType)throw Error("Missing MIME type for embedded resource");let r=n(t.mimeType);return new File([h(t.blob)],"".concat(t.uri,".").concat(r),{type:t.mimeType})}throw Error("Invalid resource content");case"audio":throw Error("Audio content not supported");case"resource_link":throw Error("Resource links are not supported")}};if(1===n.messages.length)await a([l(n.messages[0],0)]);else if(n.messages.length>1){let e=n.messages.flatMap((e,t)=>"image"===e.content.type||"resource"===e.content.type&&"blob"in e.content.resource?[l(e,t)]:[]),t=n.messages.filter(e=>"text"===e.content.type||"resource"===e.content.type&&"text"in e.content.resource);if(t.length>0){let n=JSON.stringify(t,null,2);e.push(new File([n],"".concat(i.name,"_messages.json"),{type:"application/json"}))}await a(e)}null==e||e()}catch(e){n("Failed to get prompt. You can try again.",{error:e})}},[t,n,a,e])}(e);return(0,c.useCallback)(async r=>{let{serverUuid:a,prompt:i,args:o}=r;if(!s)return d(a,i,o);{let r;try{let e=(0,g.KU)(a);r=await e.getPrompt({name:i.name,arguments:o},{timeout:15e3})}catch(e){}try{let l=await t({prompt:i,arguments:o,server_uuid:a,result:r});n(l),null==e||e()}catch(e){l("Failed to attach prompt. You can try again.",{error:e,errorContext:{tags:{action:"attach_prompt"},extra:{serverUuid:a}}})}}},[t,n,l,e,s,d])}function C(){let{setAttachments:e,setFiles:t}=(0,m.o)();return(0,c.useCallback)(n=>{let{files:r,attachments:a}=n;r&&r.length>0&&t(e=>{let t=new Set(e.map(e=>e.file_uuid));return[...e,...r.filter(e=>!t.has(e.file_uuid))]}),a&&a.length>0&&e(e=>Array.from(new Set([...e,...a].map(e=>JSON.stringify(e)))).map(e=>JSON.parse(e)))},[e,t])}u.z.object({name:u.z.string(),url:u.z.string(),custom_oauth_client_id:u.z.string().nullable().optional(),custom_oauth_client_secret:u.z.string().nullable().optional()}),u.z.object({name:u.z.string().optional().nullable(),url:u.z.string().optional().nullable()})},98649:(e,t,n)=>{n.d(t,{W:()=>o});var r=n(94295),a=n(64328),i=n(7620);function o(){let{mutate:e,isPending:t}=(0,r.Jy)(),{account:n}=(0,a.YL)();return{dismiss:(0,i.useCallback)(t=>{var r,a,i;n&&(null!=n&&null!=(a=n.settings)&&null!=(r=a.dismissed_claudeai_banners)&&r.some(e=>e.banner_id===t)||e({...n.settings,dismissed_claudeai_banners:[...(null==n||null==(i=n.settings)?void 0:i.dismissed_claudeai_banners)||[],{banner_id:t,dismissed_at:new Date().toISOString()}]}))},[n,e]),isDismissed:(0,i.useCallback)(e=>{var t,r;return(null==n||null==(r=n.settings)||null==(t=r.dismissed_claudeai_banners)?void 0:t.some(t=>t.banner_id===e))||!1},[n]),isPending:t}}}}]);