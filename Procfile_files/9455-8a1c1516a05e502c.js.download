try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="73584fb1-f0e1-4353-8edc-400eec1e850f",e._sentryDebugIdIdentifier="sentry-dbid-73584fb1-f0e1-4353-8edc-400eec1e850f")}catch(e){}"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9455],{6542:(e,t,a)=>{a.d(t,{AH:()=>x,EC:()=>C,M7:()=>f,SN:()=>h,b5:()=>g,cH:()=>p,eH:()=>j,gY:()=>v,lT:()=>u,rC:()=>d,yE:()=>m,yx:()=>c});var s=a(1613),n=a(64328),i=a(80688),r=a(4869),l=a(7620);let o="artifact_view_cache",d=e=>{let{activeOrganization:t}=(0,n.YL)(),a=null==t?void 0:t.uuid,r=new URLSearchParams;e&&"includeDeletedArtifacts"in e&&r.append("include_deleted_artifacts",String(e.includeDeletedArtifacts));let o=(0,s.Sk)("/api/organizations/".concat(a,"/published_artifacts?").concat(r.toString()),{staleTime:0,queryKey:[i.kg,{orgUuid:a}],enabled:!!a}),d=(0,l.useMemo)(()=>{var e;return null==(e=o.data)?void 0:e.reduce((e,t)=>(e[t.message_uuid]||(e[t.message_uuid]=[]),e[t.message_uuid].push(t),e),{})},[o.data]);return{...o,publishedArtifactsByMessageUuid:d}},c=()=>{let{activeOrganization:e}=(0,n.YL)(),t=null==e?void 0:e.uuid,a=(0,r.useQueryClient)();return(0,s.L2)("/api/organizations/".concat(t,"/publish_artifact"),"POST",{onSuccess:()=>{a.invalidateQueries({queryKey:[i.kg,{orgUuid:t}]})}})},u=e=>{let{activeOrganization:t}=(0,n.YL)(),a=null==t?void 0:t.uuid,l=(0,r.useQueryClient)();return(0,s.L2)("/api/organizations/".concat(a,"/published_artifacts/").concat(e),"DELETE",{onSuccess:()=>{l.invalidateQueries({queryKey:[i.kg,{orgUuid:a}]})},enabled:!!e})},h=()=>{let{activeOrganization:e}=(0,n.YL)(),t=null==e?void 0:e.uuid;return(0,s.Sk)("/api/organizations/".concat(t,"/artifact_feedback_eligibility"),{queryKey:[i.Pr],enabled:!!t,meta:{noToast:!0}})},m=e=>{let{activeOrganization:t}=(0,n.YL)(),a=null==t?void 0:t.uuid,l=(0,r.useQueryClient)();return(0,s.L2)("/api/organizations/".concat(a,"/artifact-versions/").concat(e,"/visibility"),"POST",{onSuccess:()=>{l.invalidateQueries({queryKey:[i.F$,{artifactVersionUuid:e,orgUuid:a}]})}})},p=e=>{let{activeOrganization:t}=(0,n.YL)(),a=null==t?void 0:t.uuid,l=(0,r.useQueryClient)();return(0,s.L2)("/api/organizations/".concat(a,"/artifacts/").concat(e,"/byindex"),"POST",{onSuccess:e=>{l.invalidateQueries({queryKey:[i.F$,{artifactVersionUuid:e.artifactVersionUUID,orgUuid:a}]})}})},C=e=>{let{activeOrganization:t}=(0,n.YL)(),a=null==t?void 0:t.uuid;return(0,s.Sk)("/api/organizations/".concat(a,"/artifact-versions/").concat(e,"/visibility"),{queryKey:[i.F$,{artifactVersionUuid:e,orgUuid:a}],enabled:!!e,meta:{noToast:!0}})},g=(e,t)=>{let a=(0,s.L2)("/api/published_artifacts/".concat(e,"/record_view"),"POST",{onSuccess:a=>{"view successfully recorded"===a.status&&function(e,t){if(!t)return;let a="".concat(t,"_").concat(e);try{let e=localStorage.getItem(o)||"{}",t=JSON.parse(e),s=t[a];if(s&&Date.now()-s<36e5)return;(t=function(e){let t=Date.now(),a={};for(let[s,n]of Object.entries(e))t-n<=36e5&&(a[s]=n);return a}(t))[a]=Date.now(),localStorage.setItem(o,JSON.stringify(t))}catch(e){}}(e,t)},meta:{noToast:!0}});return{...a,mutate:s=>{!function(e,t){if(!t)return!1;let a="".concat(t,"_").concat(e);try{let e=localStorage.getItem(o);if(!e)return!1;let t=JSON.parse(e),s=t[a];if(!s)return!1;if(Date.now()-s>36e5)return delete t[a],localStorage.setItem(o,JSON.stringify(t)),!1;return!0}catch(e){return!1}}(e,t)&&a.mutate(s||{})}}},f=e=>{let t=new URLSearchParams;e.forEach(e=>{t.append("artifact_uuids",e)});let a="/api/published_artifacts/view_counts?".concat(t.toString());return(0,s.Sk)(a,{queryKey:[i.g_,e],meta:{noToast:!0},enabled:e.length>0})},x=()=>{let{activeOrganization:e}=(0,n.YL)(),t=null==e?void 0:e.uuid,a=(0,s.L2)(e=>"/api/organizations/".concat(t,"/published_artifacts/").concat(e.published_artifact_uuid,"/snapshot"),"POST",{meta:{noToast:!0}}),i=async e=>{if(!(e.domSnapshot.length>5242880))return a.mutateAsync({dom_snapshot:e.domSnapshot,published_artifact_uuid:e.publishedArtifactUuid,viewport_width:e.viewportWidth,viewport_height:e.viewportHeight})};return{...a,mutateAsync:i}},v=e=>(0,s.Sk)("/api/published_artifacts/".concat(e,"/embed_whitelist"),{queryKey:[i.hn,e],meta:{noToast:!0},enabled:!!e}),j=e=>{let{activeOrganization:t}=(0,n.YL)(),a=null==t?void 0:t.uuid,l=(0,r.useQueryClient)();return(0,s.L2)("/api/organizations/".concat(a,"/published_artifacts/").concat(e,"/embed_whitelist"),"PUT",{enabled:!!e&&!!a,meta:{noToast:!0},onSuccess:()=>{l.invalidateQueries({queryKey:[i.hn,e]})}})}},14333:(e,t,a)=>{a.d(t,{h:()=>L});var s=a(54568),n=a(19736),i=a(45054),r=a(26819),l=a(14691),o=a(37670),d=a(3075),c=a(54787),u=a(84617),h=a(61076),m=a(97702),p=a(39109),C=a(61295),g=a(27541),f=a(7620),x=a(10369),v=a(59666),j=a(45538),y=a(72902);let b=e=>{let{size:t=20,className:a,vectorSizeOverride:n}=e,i=n||({12:16,14:16,16:20,20:20,24:24,28:28,32:32})[t]||t;return(0,s.jsx)("div",{className:(0,y.A)("relative inline-flex items-center justify-center",a),style:{width:t,height:t},children:(0,s.jsxs)("svg",{width:i,height:i,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",className:"overflow-visible",children:[(0,s.jsx)("path",{d:"M15.8198 7C16.6885 7.00025 17.3624 7.73158 17.3178 8.57617L17.2993 8.74707L16.1332 15.7471C16.0126 16.4699 15.3865 16.9996 14.6538 17H5.34711C4.6142 16.9998 3.98833 16.47 3.86762 15.7471L2.7016 8.74707C2.54922 7.83277 3.25418 7 4.18109 7H15.8198ZM4.18109 8C3.87216 8 3.63722 8.27731 3.68793 8.58203L4.85394 15.582C4.89413 15.8229 5.10291 15.9998 5.34711 16H14.6538C14.8978 15.9996 15.1068 15.8228 15.1469 15.582L16.3129 8.58203L16.3188 8.46973C16.3036 8.21259 16.0899 8.00023 15.8198 8H4.18109Z"}),(0,s.jsx)("g",{transform:"translate(10, 10)",children:(0,s.jsxs)("path",{d:"M16.0004 5.5C16.0004 5.224 15.7764 5.00024 15.5004 5H4.50043C4.22428 5 4.00043 5.22386 4.00043 5.5C4.00043 5.77614 4.22428 6 4.50043 6H15.5004C15.7764 5.99976 16.0004 5.776 16.0004 5.5Z",transform:"translate(-10, -10)",children:[(0,s.jsx)("animateTransform",{attributeName:"transform",type:"translate",values:"0,-5; 0,-1; 0,1.5; 0,1.5",dur:"2s",begin:"0s",repeatCount:"indefinite",additive:"sum"}),(0,s.jsx)("animateTransform",{attributeName:"transform",type:"rotate",values:"6 10 5.5; 0 10 5.5; 0 10 5.5; 0 10 5.5",dur:"2s",begin:"0s",repeatCount:"indefinite",additive:"sum"}),(0,s.jsx)("animate",{attributeName:"opacity",values:"0;0.7;0",dur:"2s",begin:"0s",repeatCount:"indefinite"})]})}),(0,s.jsx)("g",{transform:"translate(10, 10)",children:(0,s.jsxs)("path",{d:"M14.5004 3.5C14.5004 3.224 14.2764 3.00024 14.0004 3H6.00043C5.72428 3 5.50043 3.22386 5.50043 3.5C5.50043 3.77614 5.72428 4 6.00043 4H14.0004C14.2764 3.99976 14.5004 3.776 14.5004 3.5Z",transform:"translate(-10, -10)",children:[(0,s.jsx)("animateTransform",{attributeName:"transform",type:"translate",values:"2,-5; 0,-1; 0,3.5; 0,3.5",dur:"2s",begin:"0.5s",repeatCount:"indefinite",additive:"sum"}),(0,s.jsx)("animateTransform",{attributeName:"transform",type:"rotate",values:"10 10 3.5; 0 10 3.5; 0 10 3.5; 0 10 3.5",dur:"2s",begin:"0.5s",repeatCount:"indefinite",additive:"sum"}),(0,s.jsx)("animate",{attributeName:"opacity",values:"0;0.7;0",dur:"2s",begin:"0.5s",repeatCount:"indefinite"})]})})]})})},L=e=>{let{conversationUuid:t,conversationUuids:a,currentProjectUuid:y,isOpen:L,onClose:M}=e,{addSuccess:N,addError:_}=(0,i.Y)(),w=(0,g.useRouter)(),S=(0,x.A)(),{data:A}=(0,j.fo)(y&&L?y:void 0),k=(0,f.useMemo)(()=>a||(t?[t]:[]),[a,t]),H=a&&a.length>1,[Z,T]=(0,f.useState)(""),[Y]=(0,h.o)(Z,300),z=(0,f.useCallback)(()=>{T(""),M()},[M]),{data:F,isLoading:P,isError:R}=(0,j.u7)({enabled:L,limit:j.sC,searchQuery:Y||void 0,creatorFilter:Y?void 0:"is_creator",orderBy:Y?void 0:"latest_chat"}),O=(0,f.useMemo)(()=>(null==F?void 0:F.data)||[],[F]),D=P&&0===O.length,{mutateAsync:I,isPending:Q}=(0,n.x6)(),{mutateAsync:V,isPending:J}=(0,j.bL)(),U=(0,f.useCallback)(e=>{w.push("/project/".concat(e))},[w]),K=(0,f.useCallback)(async(e,t)=>{try{if(H){let a=Math.ceil(k.length/20),n=0,i=0;for(let t=0;t<a;t++){let s=20*t,r=k.slice(s,s+20),l=await I({conversation_uuids:r,project_uuid:e});n+=l.moved.length,i+=l.failed.length,t<a-1&&await new Promise(e=>setTimeout(e,500))}if(n>0){let a=(0,s.jsx)(v.A,{defaultMessage:"{count, plural, one {# chat} other {# chats}} moved to {projectName}",id:"NV3PpRB1tb",values:{count:n,projectName:(0,s.jsx)(u.Y,{onClick:()=>U(e),className:"-my-2 !px-1 !min-w-0",children:t})}});N(a)}i>0&&_(S.formatMessage({defaultMessage:"{count, plural, one {Failed to move # chat. You can try again.} other {Failed to move # chats. You can try again.}}",id:"43D5uv51my"},{count:i}))}else{let a=await I({conversation_uuids:k,project_uuid:e});if(a.moved.length>0){let a=(0,s.jsx)(v.A,{defaultMessage:"Chat moved to {projectName}",id:"t6VGfzHSDj",values:{projectName:(0,s.jsx)(u.Y,{onClick:()=>U(e),className:"-my-2 !px-1 !min-w-0",children:t})}});N(a)}a.failed.length>0&&_(S.formatMessage({defaultMessage:"This chat doesn’t exist or was deleted",id:"Zb7KxPRa+S"}))}z()}catch(e){_(S.formatMessage({defaultMessage:"Failed to move chats. You can try again.",id:"icpocvB+Op"}),{error:e}),z()}},[H,k,I,N,_,z,U,S]),E=(0,f.useCallback)(async e=>{var t;let a=(null==(t=O.find(t=>t.uuid===e))?void 0:t.name)||"project";await K(e,a)},[O,K]),q=(0,f.useCallback)(async e=>{try{let t=await V({name:e,description:"",is_private:!0});await K(t.uuid,e)}catch(e){}},[V,K]),B=J||Q,X=(0,f.useCallback)(()=>{if(D||P)return(0,s.jsxs)("div",{className:"px-3 py-2 space-y-2 opacity-60",children:[(0,s.jsx)(c.j,{height:26,variant:"light",width:"80%",rounded:"md"}),(0,s.jsx)(c.j,{height:26,variant:"light",width:"60%",rounded:"md"}),(0,s.jsx)(c.j,{height:26,variant:"light",width:"70%",rounded:"md"}),(0,s.jsx)(c.j,{height:26,variant:"light",width:"75%",rounded:"md"})]});if(R)return(0,s.jsx)("div",{className:"p-4 text-center text-text-400 text-sm",children:(0,s.jsx)(v.A,{defaultMessage:"Failed to load projects",id:"ld45uLSco8"})});let e=O.filter(e=>e.uuid!==y);return 0!==e.length||Z?(0,s.jsxs)(s.Fragment,{children:[e.map(e=>(0,s.jsxs)(m.uB.Item,{value:e.uuid,onSelect:()=>E(e.uuid),disabled:B,className:"w-full text-left px-3 h-10 rounded-lg font-base flex gap-2 items-center cursor-pointer data-[selected]:bg-bg-200 group",children:[(0,s.jsx)(o.o,{}),(0,s.jsx)("span",{className:"truncate flex-1 min-w-0 items-center gap-2",children:e.name}),!e.is_private&&(0,s.jsxs)(r.E,{color:"default",size:"lg",className:"gap-1",children:[(0,s.jsx)(l.yb,{vectorSizeOverride:14}),(0,s.jsx)(v.A,{defaultMessage:"Shared",id:"kWI6zXRaHY"})]})]},e.uuid)),Z&&(0,s.jsxs)(m.uB.Item,{value:"create_".concat(Z),onSelect:()=>q(Z),disabled:B,className:"w-full text-left px-3 h-10 rounded-lg font-base flex gap-2 items-center cursor-pointer data-[selected]:bg-bg-200",children:[(0,s.jsx)(l.OM,{}),(0,s.jsxs)("div",{className:"flex-1 min-w-0 flex items-center gap-2",children:[(0,s.jsx)(v.A,{defaultMessage:"Create",id:"VzzYJkHnLP"}),(0,s.jsxs)("div",{className:"border-border-300 border-0.5 inline-flex py-0.5 px-1.5 rounded-md ml-1 gap-1",children:[(0,s.jsx)(l.Jt,{}),Z]})]})]},"create_".concat(Z))]}):(0,s.jsx)("div",{className:"p-4 text-text-400 text-sm text-center",children:(0,s.jsx)(v.A,{defaultMessage:"No projects available",id:"UN4PP2vYc0"})})},[D,P,R,O,Z,B,y,E,q]);return(0,s.jsx)(d.aF,{hasCloseButton:!0,title:H?(0,s.jsx)(v.A,{defaultMessage:"Move {count, plural, one {# chat} other {# chats}}",id:"h3OmfpzpuG",values:{count:k.length}}):(0,s.jsx)(v.A,{defaultMessage:"Move chat",id:"zNLTS6YXxC"}),subtitle:H?(0,s.jsx)(v.A,{defaultMessage:"Select a project to move these chats into.",id:"ELEW2C1+j8"}):A?(0,s.jsx)(v.A,{defaultMessage:"This chat is in <span>{projectName}</span>. Select a different project to move it to.",id:"qw9HutvczV",values:{projectName:A.name,span:e=>(0,s.jsx)("span",{className:"font-medium",children:e})}}):(0,s.jsx)(v.A,{defaultMessage:"Select a project to move this chat into.",id:"amiezKud8v"}),isOpen:L,onClose:z,modalSize:"lg",className:"gap-0",children:(0,s.jsxs)(m.uB,{className:"flex flex-col mt-3 h-72 bg-bg-000 border-0.5 border-border-300 overflow-hidden rounded-xl -mx-1 -mb-1 relative",shouldFilter:!1,children:[(0,s.jsxs)("div",{className:"flex items-center border-b-0.5 border-border-300 px-5 h-12 relative overflow-hidden",children:[(0,s.jsx)(l.vj,{className:"text-text-500 mr-1"}),(0,s.jsx)(m.uB.Input,{autoFocus:!0,placeholder:S.formatMessage({defaultMessage:"Search or create a project",id:"ehdflFyLeM"}),className:"flex-1 bg-transparent !outline-none text-text-000 font-base placeholder:font-base",value:Z,onValueChange:T})]}),(0,s.jsx)(m.uB.List,{className:"overflow-auto flex-1 p-1",children:X()}),(0,s.jsx)(p.N,{children:B&&(0,s.jsx)(C.P.div,{initial:{opacity:0,backdropFilter:"blur(0px)"},animate:{opacity:1,backdropFilter:"blur(4px)"},className:"absolute inset-0 flex items-center justify-center bg-bg-000/80 rounded-xl",children:(0,s.jsxs)("div",{className:"flex flex-col items-center gap-3",children:[(0,s.jsx)(b,{size:32,className:"text-text-500"}),(0,s.jsx)("p",{className:"text-text-400 text-sm",children:(0,s.jsx)(v.A,{defaultMessage:"Moving...",id:"ZrO1i3APWM"})})]})})})]})})}},19455:(e,t,a)=>{a.d(t,{p:()=>y});var s=a(54568),n=a(19736),i=a(74813),r=a(45054),l=a(14691),o=a(87483),d=a(66365),c=a(7620),u=a(10369),h=a(59666),m=a(22624),p=a(14333),C=a(13750),g=a(23812),f=a(3075),x=a(43465);function v(e){let{isOpen:t,onClose:a,initialName:i,conversationUuid:r}=e,l=(0,u.A)(),{mutate:o,isPending:d}=(0,n.HI)(r),[m,p]=(0,c.useState)(i),v=(0,c.useRef)(null);return(0,x.y)({shouldFocus:t,target:v}),(0,s.jsx)(f.aF,{isOpen:t,onClose:a,title:l.formatMessage({defaultMessage:"Rename chat",id:"Oi9LAY6C5H"}),children:(0,s.jsxs)("form",{className:"grid gap-2",onSubmit:e=>{e.preventDefault(),o({name:m}),a()},children:[(0,s.jsx)(C.ks,{"data-testid":"name-chat",ref:v,className:"mt-3",value:m,onChange:e=>p(e.target.value)}),(0,s.jsxs)(f.vW,{children:[(0,s.jsx)(g.$,{variant:"secondary",type:"button",onClick:a,disabled:d,children:(0,s.jsx)(h.A,{defaultMessage:"Cancel",id:"47FYwba+bI"})}),(0,s.jsx)(g.$,{"data-testid":"name-chat-submit",type:"submit",disabled:d,children:(0,s.jsx)(h.A,{defaultMessage:"Save",id:"jvo0vs3nF0"})})]})]})})}var j=a(56995);let y=e=>{let{conversation:t,initialName:a,open:C,onOpenChange:g,trigger:f,onSelectForBulk:x}=e,{track:y}=(0,i.st)(),{addSuccess:b,addError:L}=(0,r.Y)(),M=(0,u.A)(),[N,_]=(0,c.useState)(!1),[w,S]=(0,c.useState)(!1),[A,k]=(0,c.useState)(!1),H=(0,m.K)(),{value:Z}=(0,d.useFeatureGate)("move_conversation_to_projects"),T=H&&Z,{mutate:Y}=(0,n.wR)(t.uuid),{mutateAsync:z}=(0,n.x6)(),F=async()=>{if(t.project_uuid)try{(await z({conversation_uuids:[t.uuid],project_uuid:null})).moved.length>0&&b((0,s.jsx)(h.A,{defaultMessage:"Chat removed from project",id:"UkGfrdMZdS"}))}catch(e){L(M.formatMessage({defaultMessage:"Failed to remove chat from project",id:"4suoYkIuEm"}),{error:e})}};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.ms,{align:"end",open:C,onOpenChange:g,trigger:f,unstyledTrigger:!0,children:(0,s.jsxs)("div",{children:[x&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.tJ,{"data-testid":"select-for-bulk-trigger",onSelect:()=>{x(),null==g||g(!1)},icon:(0,s.jsx)(l.Jl,{}),children:(0,s.jsx)(h.A,{defaultMessage:"Select",id:"kQAf2d9u+x"})}),(0,s.jsx)(o.DG,{})]}),(0,s.jsx)(o.tJ,{"data-testid":"star-chat-trigger",onSelect:()=>{(()=>{let e=!t.is_starred;Y({is_starred:e}),y({event_key:e?"claudeai.conversation.starred":"claudeai.conversation.unstarred",conversation_uuid:t.uuid,conversation_name:a})})(),null==g||g(!1)},icon:t.is_starred?(0,s.jsx)(l.BQ,{}):(0,s.jsx)(l.FE,{}),children:t.is_starred?(0,s.jsx)(h.A,{defaultMessage:"Unstar",id:"Y5zRLWgCMP"}):(0,s.jsx)(h.A,{defaultMessage:"Star",id:"VwapsmdMes"})}),(0,s.jsx)(o.tJ,{"data-testid":"rename-chat-trigger",onSelect:()=>{_(!0),null==g||g(!1)},icon:(0,s.jsx)(l.ff,{}),children:(0,s.jsx)(h.A,{defaultMessage:"Rename",id:"iXNbPfQDIZ"})}),T&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.tJ,{"data-testid":"move-to-project-trigger",onSelect:()=>{null==g||g(!1),setTimeout(()=>k(!0),100)},icon:(0,s.jsx)(l.Jt,{}),children:t.project_uuid?(0,s.jsx)(h.A,{defaultMessage:"Change project",id:"5RCPLcgnza"}):(0,s.jsx)(h.A,{defaultMessage:"Add to project",id:"+mqxxzVczn"})}),t.project_uuid&&(0,s.jsx)(o.tJ,{"data-testid":"remove-from-project-trigger",onSelect:()=>{null==g||g(!1),F()},icon:(0,s.jsx)(l.B6,{}),children:(0,s.jsx)(h.A,{defaultMessage:"Remove from project",id:"FgGKwPHI5T"})})]}),(0,s.jsx)(o.DG,{}),(0,s.jsx)(o.tJ,{danger:!0,"data-testid":"delete-chat-trigger",onSelect:()=>{null==g||g(!1),setTimeout(()=>S(!0),100)},icon:(0,s.jsx)(l.E9,{}),children:(0,s.jsx)(h.A,{defaultMessage:"Delete",id:"K3r6DQW7h+"})})]})}),(0,s.jsx)(j.Z,{isOpen:w,onClose:()=>S(!1),conversationUuid:t.uuid}),(0,s.jsx)(v,{conversationUuid:t.uuid,isOpen:N,initialName:a,onClose:()=>_(!1)}),T&&(0,s.jsx)(p.h,{conversationUuid:t.uuid,currentProjectUuid:t.project_uuid,isOpen:A,onClose:()=>k(!1)})]})}},37670:(e,t,a)=>{a.d(t,{FY:()=>r,Ru:()=>l,TJ:()=>o,X3:()=>d,R0:()=>c,o:()=>u});var s=a(54568),n=a(72902),i=a(57003);let r=e=>(0,s.jsxs)(i.z,{...e,className:(0,n.A)("group backface-hidden",e.className),children:[(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.35352 3.1464L9.35352 6.14642C9.43935 6.25103 9.5 6.36003 9.5 6.50091C9.4998 6.6332 9.44704 6.75988 9.35352 6.85346L6.35352 9.85347C6.14584 10.0609 5.85611 10.0243 5.64648 9.85347L2.64648 6.85346C2.55296 6.75988 2.5002 6.6332 2.5 6.50091C2.5 6.36841 2.55285 6.24017 2.64648 6.14642L5.64648 3.1464C5.8552 2.97421 6.14635 2.93936 6.35352 3.1464ZM6 8.79194L3.70703 6.49994L6 4.20696L8.29297 6.49994L6 8.79194Z"}),(0,s.jsx)("path",{className:"group-hover:-rotate-90 transition-transform duration-200 ease-snappy-out",style:{transformOrigin:"14px 6.5px"},d:"M16.8984 3.7509C16.9875 3.90632 16.986 4.09826 16.8955 4.25286L15.5791 6.49994L16.8955 8.74702C16.986 8.90159 16.9874 9.09354 16.8984 9.24898C16.8093 9.40436 16.643 9.49996 16.4638 9.49996H11.5C11.3198 9.49996 11.1532 9.4028 11.0644 9.24605C10.976 9.08949 10.9789 8.89736 11.0713 8.74312L12.417 6.49994L11.0713 4.25676C10.9789 4.1025 10.976 3.91037 11.0644 3.75383C11.1532 3.59717 11.3199 3.49992 11.5 3.49992H16.4638C16.6429 3.51309 16.8055 3.58909 16.8984 3.7509ZM13.4287 6.2431C13.5152 6.4107 13.5166 6.58638 13.4287 6.75678L12.3828 8.49995H15.5918L14.5683 6.75287C14.477 6.59683 14.477 6.40303 14.5683 6.24701L15.5918 4.49993H12.3828L13.4287 6.2431Z"}),(0,s.jsx)("path",{className:"group-hover:rotate-[120deg] transition-transform duration-200 ease-snappy-out",style:{transformOrigin:"6px 14px"},fillRule:"evenodd",clipRule:"evenodd",d:"M7.25293 10.9668C7.40708 10.8793 7.59647 10.8801 7.75 10.9687C7.90356 11.0574 7.99869 11.2211 8 11.3984L8.01074 12.8388L9.30762 13.6054C9.42811 13.6994 9.49994 13.8448 9.5 14C9.5 14.1773 9.40587 14.3418 9.25293 14.4316L8.01074 15.1601L7.99512 16.667C7.97406 16.8184 7.88446 16.9536 7.75 17.0312C7.59642 17.1199 7.40713 17.1207 7.25293 17.0332L6 16.3203L4.74707 17.0332C4.59287 17.1207 4.40358 17.1199 4.25 17.0312C4.09643 16.9425 4.00124 16.7789 4 16.6015L3.99023 15.1601L2.74707 14.4316C2.59413 14.3418 2.5 14.1773 2.5 14C2.50006 13.8448 2.57188 13.6994 2.69238 13.6054L3.99023 12.8388L4 11.3984C4.00131 11.2211 4.09644 11.0574 4.25 10.9687C4.40353 10.8801 4.59292 10.8793 4.74707 10.9668L6 11.6787L7.25293 10.9668ZM4.99512 12.2568L5.75293 12.6884C5.90608 12.7754 6.09392 12.7754 6.24707 12.6884L7.00586 12.2568L7.01172 13.1308C7.01308 13.3068 7.10706 13.4695 7.25879 13.5586L8.01172 14L7.25879 14.4414C7.10706 14.5304 7.01315 14.6932 7.01172 14.8691L7.00586 15.7422L6.24707 15.3115C6.09397 15.2246 5.90603 15.2246 5.75293 15.3115L4.99512 15.7422L4.98828 14.8691C4.98703 14.7152 4.91459 14.5716 4.79492 14.4785L3.98926 14L4.74121 13.5586C4.87421 13.4805 4.96267 13.3457 4.9834 13.1953L4.99512 12.2568Z"}),(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14 11C15.6568 11 16.9999 12.3432 17 14C17 15.6568 15.6569 17 14 17C12.3431 17 11 15.6568 11 14C11.0001 12.3432 12.3432 11 14 11ZM12 14C12.0001 12.8955 12.8955 12 14 12C15.1045 12 15.9999 12.8955 16 14C16 15.1045 15.1046 16 14 16C12.8954 16 12 15.1045 12 14Z"})]}),l=e=>(0,s.jsxs)(i.z,{...e,className:(0,n.A)("group",e.className),children:[(0,s.jsx)("path",{className:"group-hover:-translate-x-[0.5px] transition group-active:translate-x-0",d:"M8.99962 2C12.3133 2 14.9996 4.68629 14.9996 8C14.9996 11.3137 12.3133 14 8.99962 14H2.49962C2.30105 13.9998 2.12113 13.8821 2.04161 13.7002C1.96224 13.5181 1.99835 13.3058 2.1334 13.1602L3.93516 11.2178C3.34317 10.2878 2.99962 9.18343 2.99962 8C2.99962 4.68643 5.68609 2.00022 8.99962 2ZM8.99962 3C6.23838 3.00022 3.99961 5.23871 3.99961 8C3.99961 9.11212 4.36265 10.1386 4.97618 10.9688C5.11884 11.1621 5.1035 11.4293 4.94004 11.6055L3.64512 13H8.99962C11.761 13 13.9996 10.7614 13.9996 8C13.9996 5.23858 11.761 3 8.99962 3Z"}),(0,s.jsx)("path",{className:"group-hover:translate-x-[0.5px] transition group-active:translate-x-0",d:"M16.5445 9.72754C16.4182 9.53266 16.1678 9.44648 15.943 9.53418C15.7183 9.62215 15.5932 9.85502 15.6324 10.084L15.7369 10.3955C15.9073 10.8986 16.0006 11.438 16.0006 12C16.0006 13.1123 15.6376 14.1386 15.024 14.9687C14.8811 15.1621 14.8956 15.4302 15.0592 15.6064L16.3531 17H11.0006C9.54519 17 8.23527 16.3782 7.32091 15.3848L7.07091 15.1103C6.88996 14.9645 6.62535 14.9606 6.43907 15.1143C6.25267 15.2682 6.20668 15.529 6.31603 15.7344L6.58458 16.0625C7.68048 17.253 9.25377 18 11.0006 18H17.5006C17.6991 17.9998 17.8791 17.8822 17.9586 17.7002C18.038 17.5181 18.0018 17.3058 17.8668 17.1602L16.0631 15.2178C16.6554 14.2876 17.0006 13.1837 17.0006 12C17.0006 11.3271 16.8891 10.6792 16.6842 10.0742L16.5445 9.72754Z"})]}),o=e=>(0,s.jsxs)(i.z,{...e,className:(0,n.A)("group",e.className),children:[(0,s.jsx)("path",{className:"transition",d:"M11.6318 4.01757C11.898 4.09032 12.055 4.36555 11.9824 4.63183L8.98242 15.6318C8.90966 15.8981 8.63449 16.0551 8.36816 15.9824C8.10193 15.9097 7.94495 15.6345 8.01758 15.3682L11.0176 4.36816C11.0904 4.102 11.3656 3.94497 11.6318 4.01757Z"}),(0,s.jsx)("path",{className:"group-hover:translate-x-[1px] transition",d:"M13.124 6.17089C13.3059 5.96325 13.6213 5.9423 13.8291 6.12402L17.8291 9.62402L17.9014 9.70215C17.9647 9.78754 18 9.89182 18 10C18 10.1441 17.9375 10.281 17.8291 10.376L13.8291 13.876L13.7471 13.9346C13.5449 14.0498 13.2833 14.011 13.124 13.8291C12.9649 13.6472 12.9606 13.3824 13.1016 13.1973L13.1709 13.124L16.7412 10L13.1709 6.87597C12.9632 6.69411 12.9422 6.37866 13.124 6.17089Z"}),(0,s.jsx)("path",{className:"group-hover:-translate-x-[1px] transition",d:"M6.25293 6.06542C6.45509 5.95025 6.71675 5.98908 6.87598 6.17089C7.03513 6.35279 7.03933 6.6176 6.89844 6.80273L6.8291 6.87597L3.25879 10L6.8291 13.124C7.03682 13.3059 7.05771 13.6213 6.87598 13.8291C6.69413 14.0369 6.37869 14.0578 6.1709 13.876L2.1709 10.376L2.09863 10.2979C2.03528 10.2124 2 10.1082 2 10C2.00005 9.85591 2.06247 9.71893 2.1709 9.62402L6.1709 6.12402L6.25293 6.06542Z"})]}),d=e=>(0,s.jsxs)(i.z,{...e,className:(0,n.A)("group",e.className),children:[(0,s.jsxs)("g",{className:"group-hover:animate-[look-around_2.4s_ease-in-out_infinite] group-active:animate-none",children:[(0,s.jsx)("path",{d:"M6.99951 8.66672C7.5518 8.66672 7.99951 9.11443 7.99951 9.66672C7.9993 10.2188 7.55166 10.6667 6.99951 10.6667C6.44736 10.6667 5.99973 10.2188 5.99951 9.66672C5.99951 9.11443 6.44723 8.66672 6.99951 8.66672Z"}),(0,s.jsx)("path",{d:"M12.9995 8.66672C13.5518 8.66672 13.9995 9.11443 13.9995 9.66672C13.9993 10.2188 13.5517 10.6667 12.9995 10.6667C12.4474 10.6667 11.9997 10.2188 11.9995 9.66672C11.9995 9.11443 12.4472 8.66672 12.9995 8.66672Z"})]}),(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 2C14.326 2.00018 17.9998 5.67403 18 10V17.3123C17.9997 17.5427 17.8411 17.8079 17.6172 17.8623C17.3932 17.9165 17.1614 17.7456 17.0557 17.5408C16.7805 17.007 16.3658 16.5937 16.062 16.2878C15.7793 16.0034 15.4503 15.8338 14.9771 15.8337C14.2092 15.8339 13.4371 16.3862 12.9487 17.53C12.8701 17.7138 12.6887 17.8621 12.4888 17.8623C12.2888 17.8623 12.1076 17.7138 12.0288 17.53C11.5404 16.386 10.7674 15.8339 9.99951 15.8337C9.23161 15.8339 8.45959 16.386 7.97119 17.53C7.89253 17.7138 7.71118 17.8621 7.51123 17.8623C7.31122 17.8623 7.13006 17.7138 7.05127 17.53C6.56296 16.3862 5.78982 15.834 5.02197 15.8337C4.54861 15.8338 4.21974 16.0032 3.93701 16.2878C3.63309 16.5937 3.21952 17.0715 2.94434 17.6055C2.83865 17.8103 2.60589 17.9165 2.38184 17.8623C2.15801 17.8079 2.00033 17.6073 2 17.377V10C2.00018 5.67403 5.67403 2.00018 10 2ZM10 3C6.22631 3.00018 3.00018 6.22631 3 10V15.8633C3.0205 15.8414 3.20696 15.6049 3.22803 15.5837C3.67524 15.1336 4.251 14.8338 5.02197 14.8337C6.03838 14.8341 6.90232 15.4025 7.51025 16.2937C8.11828 15.4018 8.9824 14.8338 9.99951 14.8337C11.0163 14.8338 11.8798 15.4022 12.4878 16.2937C13.0959 15.4018 13.9601 14.8339 14.9771 14.8337C15.7481 14.8338 16.3247 15.1336 16.772 15.5837C16.772 15.5837 16.9796 15.812 17 15.8337V10C16.9998 6.22631 13.7737 3.00018 10 3Z"}),(0,s.jsx)("style",{children:"\n      @keyframes look-around {\n        0%,\n        16.6%,\n        100% {\n          transform: translateX(-1.5px) translateY(0);\n        }\n        25%,\n        41.6% {\n          transform: translateX(1.5px) translateY(0);\n        }\n        50%,\n        66.6% {\n          transform: translateX(0) translateY(-1.5px);\n        }\n        75%,\n        91.6% {\n          transform: translateX(0) translateY(0);\n        }\n      }\n    "})]}),c=e=>(0,s.jsxs)(i.z,{...e,className:(0,n.A)("group",e.className),children:[(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 2C14.4183 2 18 5.58172 18 10V17.333C18 17.6404 17.7899 17.9087 17.4912 17.9814C17.1925 18.0539 16.8824 17.9125 16.7412 17.6396C16.4654 17.1046 16.2278 16.6907 15.9443 16.4053C15.6891 16.1486 15.4011 16.0001 14.9775 16C14.3 16.0002 13.5743 16.4876 13.1016 17.5947C12.9967 17.8403 12.7553 18 12.4883 18C12.2214 17.9998 11.9798 17.8402 11.875 17.5947C11.4021 16.4874 10.6776 16 10 16C9.32238 16 8.59794 16.4874 8.125 17.5947C8.02021 17.8402 7.77857 17.9998 7.51172 18C7.24472 18 7.0033 17.8403 6.89844 17.5947C6.42567 16.4876 5.70001 16.0002 5.02246 16C4.59894 16.0001 4.31088 16.1486 4.05566 16.4053C3.7722 16.6907 3.53456 17.1046 3.25879 17.6396C3.11763 17.9125 2.80745 18.0539 2.50879 17.9814C2.21014 17.9087 2 17.6404 2 17.333V10C2 5.58172 5.58172 2 10 2ZM7 8.66699C6.44772 8.66699 6 9.11471 6 9.66699C6.00021 10.2191 6.44785 10.667 7 10.667C7.55215 10.667 7.99979 10.2191 8 9.66699C8 9.11471 7.55228 8.66699 7 8.66699ZM13 8.66699C12.4477 8.66699 12 9.11471 12 9.66699C12.0002 10.2191 12.4478 10.667 13 10.667C13.5522 10.667 13.9998 10.2191 14 9.66699C14 9.11471 13.5523 8.66699 13 8.66699Z"}),(0,s.jsx)("path",{className:"group-hover:animate-[blink_4s_ease-in-out_infinite] opacity-0",fillRule:"evenodd",clipRule:"evenodd",d:"M10 2C14.4183 2 18 5.58172 18 10V17.333C18 17.6404 17.7899 17.9087 17.4912 17.9814C17.1925 18.0539 16.8824 17.9125 16.7412 17.6396C16.4654 17.1046 16.2278 16.6907 15.9443 16.4053C15.6891 16.1486 15.4011 16.0001 14.9775 16C14.3 16.0002 13.5743 16.4876 13.1016 17.5947C12.9967 17.8403 12.7553 18 12.4883 18C12.2214 17.9998 11.9798 17.8402 11.875 17.5947C11.4021 16.4874 10.6776 16 10 16C9.32238 16 8.59794 16.4874 8.125 17.5947C8.02021 17.8402 7.77857 17.9998 7.51172 18C7.24472 18 7.0033 17.8403 6.89844 17.5947C6.42567 16.4876 5.70001 16.0002 5.02246 16C4.59894 16.0001 4.31088 16.1486 4.05566 16.4053C3.7722 16.6907 3.53456 17.1046 3.25879 17.6396C3.11763 17.9125 2.80745 18.0539 2.50879 17.9814C2.21014 17.9087 2 17.6404 2 17.333V10C2 5.58172 5.58172 2 10 2Z"}),(0,s.jsx)("style",{children:"\n      @keyframes blink {\n        0%,\n        8% {\n          opacity: 0;\n        }\n        10%,\n        12% {\n          opacity: 1;\n        }\n        14%,\n        30% {\n          opacity: 0;\n        }\n        32%,\n        34% {\n          opacity: 1;\n        }\n        36%,\n        100% {\n          opacity: 0;\n        }\n      }\n    "})]}),u=e=>(0,s.jsxs)(i.z,{...e,className:(0,n.A)("group",e.className),children:[(0,s.jsx)("path",{className:"group-hover:scale-95 origin-center",d:"M15.8198 7C16.6885 7.00025 17.3624 7.73158 17.3178 8.57617L17.2993 8.74707L16.1332 15.7471C16.0126 16.4699 15.3865 16.9996 14.6538 17H5.34711C4.6142 16.9998 3.98833 16.47 3.86762 15.7471L2.7016 8.74707C2.54922 7.83277 3.25418 7 4.18109 7H15.8198ZM4.18109 8C3.87216 8 3.63722 8.27731 3.68793 8.58203L4.85394 15.582C4.89413 15.8229 5.10291 15.9998 5.34711 16H14.6538C14.8978 15.9996 15.1068 15.8228 15.1469 15.582L16.3129 8.58203L16.3188 8.46973C16.3036 8.21259 16.0899 8.00023 15.8198 8H4.18109Z"}),(0,s.jsx)("path",{className:"group-hover:-translate-y-[1.4px] group-hover:translate-x-[0.5px] group-hover:rotate-3 transition group-active:translate-y-0",d:"M16.0004 5.5C16.0004 5.224 15.7764 5.00024 15.5004 5H4.50043C4.22428 5 4.00043 5.22386 4.00043 5.5C4.00043 5.77614 4.22428 6 4.50043 6H15.5004C15.7764 5.99976 16.0004 5.776 16.0004 5.5Z"}),(0,s.jsx)("path",{className:"group-hover:-translate-y-[2.8px] group-hover:translate-x-px group-hover:rotate-6 transition group-active:translate-y-0",d:"M14.5004 3.5C14.5004 3.224 14.2764 3.00024 14.0004 3H6.00043C5.72428 3 5.50043 3.22386 5.50043 3.5C5.50043 3.77614 5.72428 4 6.00043 4H14.0004C14.2764 3.99976 14.5004 3.776 14.5004 3.5Z"})]})},56995:(e,t,a)=>{a.d(t,{Z:()=>h});var s=a(54568),n=a(19736),i=a(6542),r=a(27541),l=a(7620),o=a(45054),d=a(34498),c=a(10369),u=a(59666);function h(e){let{isOpen:t,onClose:a,conversationUuid:h,conversationUuids:m,onConfirm:p}=e,[C,g]=(0,l.useState)(!1),{addError:f,addSuccess:x}=(0,o.Y)(),v=(0,c.A)(),j=!!(h&&!m),y=!!(m&&m.length>0),b=(0,l.useMemo)(()=>m||(h?[h]:[]),[m,h]),{data:L,isLoading:M}=(0,i.rC)({includeDeletedArtifacts:!1}),{mutate:N}=(0,n.t7)(),{mutateAsync:_}=(0,n.Vt)(),w=(0,r.usePathname)(),S=(()=>{let e=(0,r.useRouter)(),t=(0,r.useSearchParams)(),a=(0,l.useMemo)(()=>{let e=new URLSearchParams;(null==t?void 0:t.has("model"))&&e.append("model",t.get("model")),(null==t?void 0:t.has("max_tokens"))&&e.append("max_tokens",t.get("max_tokens")),(null==t?void 0:t.has("speak"))&&e.append("speak",t.get("speak")),(null==t?void 0:t.has("t"))&&e.append("t",t.get("t")),(null==t?void 0:t.has("q"))&&e.append("q",t.get("q"));let a=e.toString();return a?"?".concat(a):""},[t]);return{push:(0,l.useCallback)(t=>e.push("".concat(t).concat(a)),[e,a]),replace:(0,l.useCallback)(t=>e.replace("".concat(t).concat(a)),[e,a])}})(),A=(0,l.useCallback)(async()=>{if(p){g(!0);try{await p()}finally{g(!1)}return}if(j&&h){let e=w==="/chat/".concat(h);N({uuid:h}),e&&S.push("/new"),a(),x(v.formatMessage({defaultMessage:"Chat deleted successfully",id:"aXO20b7rP+"}))}else if(y){let e=Math.ceil(b.length/20);g(!0);let t=0,s=0;try{for(let a=0;a<e;a++){let n=20*a,i=b.slice(n,n+20),r=await _({conversation_uuids:i});t+=r.deleted.length,s+=r.failed.length,a<e-1&&await new Promise(e=>setTimeout(e,500))}t>0&&x(v.formatMessage({defaultMessage:"{count, plural, one {# chat deleted} other {# chats deleted}} successfully",id:"dmTMwCAEJi"},{count:t})),s>0&&f(v.formatMessage({defaultMessage:"{count, plural, one {Failed to delete # chat. You can try again.} other {Failed to delete # chats. You can try again.}}",id:"NscK7QPlXL"},{count:s}))}catch(e){f("Failed to delete some chats. You can try again.",{error:e})}finally{g(!1),a()}b.some(e=>w==="/chat/".concat(e))&&S.push("/new")}},[p,j,h,y,b,N,a,w,S,_,f,x,v]),k=y?v.formatMessage({defaultMessage:"Delete {count, plural, one {# chat} other {# chats}}",id:"JhH5WXc6VS"},{count:b.length}):v.formatMessage({defaultMessage:"Delete chat",id:"ngIzbjIFxF"});return(0,s.jsx)(d.R,{isOpen:t,onClose:a,onConfirm:A,title:k,message:y?v.formatMessage({defaultMessage:"Are you sure you want to permanently delete {count, plural, one {this chat} other {these chats}}? This cannot be undone.",id:"oUQNLoQUff"},{count:b.length}):v.formatMessage({defaultMessage:"Are you sure you want to delete this chat?",id:"eoF+zSJr4t"}),confirmText:v.formatMessage({defaultMessage:"Delete",id:"K3r6DQW7h+"}),variant:"danger",isLoading:C,disabled:M,testId:"delete-modal-confirm",children:(()=>{if(!j)return null;let e=null==L?void 0:L.filter(e=>e.chat_conversation_uuid===h).map(e=>e.title);return e&&0!==e.length?(0,s.jsxs)("div",{children:[(0,s.jsx)(u.A,{defaultMessage:"When you delete this chat, you’ll also delete the published artifacts in this chat.",id:"+r05Hpg92t"}),(0,s.jsx)("div",{className:"mt-2",children:(0,s.jsx)("ul",{className:"list-disc pl-5",children:e.map(e=>(0,s.jsx)("li",{children:e},e))})})]}):null})()})}}}]);